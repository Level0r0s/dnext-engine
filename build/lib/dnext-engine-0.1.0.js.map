{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/NX/App.js","src/NX/Controller.js","src/NX/Logger.js","src/NX/NX.js","src/NX/UILoader.js","src/UX/AnchorPane.js","src/UX/Button.js","src/UX/Checkbox.js","src/UX/Container.js","src/UX/HBox.js","src/UX/ImageView.js","src/UX/Label.js","src/UX/Labeled.js","src/UX/Node.js","src/UX/Page.js","src/UX/TextArea.js","src/UX/TextField.js","src/UX/TextInputControl.js","src/UX/ToggleButton.js","src/UX/UX.js","src/UX/VBox.js","src/UX/paint/Font.js","src/UX/util/Utils.js","src/lib.js"],"names":[],"mappings":"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","file":"dnext-engine-0.1.0.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import Utils from './../UX/util/Utils';\r\nimport Container from './../UX/Container';\r\nimport Node from './../UX/Node';\r\n\r\nimport Logger from './Logger';\r\nimport UILoader from './UILoader';\r\n\r\nclass App {\r\n  constructor(domElement) {\r\n    this.logger = new Logger();\r\n    this.uiLoader = new UILoader();\r\n    this._content = null;\r\n\r\n    if (Utils.isElement(domElement)) {\r\n      this.dom = jQuery(domElement);\r\n    } else {\r\n      if (domElement instanceof jQuery) {\r\n        this.dom = domElement;\r\n      } else {\r\n        this.dom = jQuery(document).find(domElement).first();\r\n      }\r\n    }\r\n  }\r\n\r\n  get content() {\r\n    return this._content;\r\n  }\r\n\r\n  set content(node) {\r\n    this.dom.empty();\r\n\r\n    if (node instanceof Node) {\r\n      this._content = node;\r\n      this.dom.append(node.dom);\r\n    } else if (node === null) {\r\n      this._content = null;\r\n    } else {\r\n      if (node) {\r\n        throw new Error(\"Content property: must be instance of Node, \" + (node.constructor ? node.constructor.name : typeof node) + \" given\");\r\n      } else {\r\n        throw new Error(\"Content property: must be instance of Node, undefined given\");\r\n      }\r\n    }\r\n  }\r\n\r\n  showPage(page) {\r\n    page.showInApp(this);\r\n  }\r\n\r\n  log(message) {\r\n    this.logger.info(message);\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import Container from './../UX/Container';\r\n\r\nclass UI {\r\n\r\n  constructor(node) {\r\n    this._node = node;\r\n\r\n    this.refresh(node);\r\n  }\r\n\r\n  refresh(node) {\r\n    if (node instanceof Container) {\r\n      var children = node.children();\r\n\r\n      for (var i = 0; i < children.length; i++) {\r\n        var child = children[i];\r\n\r\n        if (child) {\r\n          var id = child.id;\r\n\r\n          if (id && !this[id]) {\r\n            this[id] = child;\r\n            this.refresh(child);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default function controller(handlers) {\r\n  return function (node) {\r\n    var self = this;\r\n\r\n    this.node = node;\r\n    this.handlers = handlers;\r\n    this.ui = new UI(node);\r\n\r\n    var init = function () {\r\n      for (var id in handlers) {\r\n        if (handlers.hasOwnProperty(id)) {\r\n          var sub = node.child(id);\r\n\r\n          if (sub) {\r\n            self.bind(sub, handlers[id]);\r\n          } else {\r\n            console.warn(`Child '${id}' is not defined`);\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    this.bind = function (node, handlers) {\r\n      for (var event in handlers) {\r\n        if (handlers.hasOwnProperty(event)) {\r\n          node.on(event, (e) => {\r\n            e.ui = self.ui;\r\n            handlers[event].call(self, e);\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    init();\r\n  };\r\n}\r\n","\r\n\r\nclass Logger {\r\n  static get DEBUG() { return 1 }\r\n  static get INFO() { return 10 }\r\n  static get WARNING() { return 100 }\r\n  static get ERROR() { return 1000 }\r\n\r\n  constructor() {\r\n    this.level = Logger.INFO;\r\n  }\r\n\r\n  debug(message) {\r\n    if (this.level >= Logger.DEBUG) {\r\n      console.debug(...arguments);\r\n    }\r\n  }\r\n\r\n  info(message) {\r\n    if (this.level >= Logger.INFO) {\r\n      console.info(...arguments);\r\n    }\r\n  }\r\n\r\n  error(message) {\r\n    if (this.level >= Logger.ERROR) {\r\n      console.error(...arguments);\r\n    }\r\n  }\r\n\r\n  warn(message) {\r\n    if (this.level >= Logger.WARNING) {\r\n      console.warn(message);\r\n    }\r\n  }\r\n}\r\n\r\nexport default Logger;\r\n","import App from './App';\r\nimport Logger from './Logger';\r\nimport controller from './Controller';\r\nimport UILoader from './UILoader';\r\n\r\n\r\nexport default {\r\n  App, Logger, UILoader,\r\n  controller\r\n}\r\n","import Node from './../UX/Node';\r\nimport Container from './../UX/Container';\r\nimport UX from './../UX/UX';\r\n\r\nclass UILoader {\r\n\r\n  load(object, controller) {\r\n    if (object && typeof object === \"object\") {\r\n      const type = object['_'];\r\n\r\n      if (!type) {\r\n        throw new Error(\"Type is not defined in '_' property!\");\r\n      }\r\n\r\n      const cls = UX[type];\r\n\r\n      if (!cls) {\r\n        throw new Error(`Type '${type}' is not defined`);\r\n      }\r\n\r\n      const node = new cls();\r\n\r\n      if (node instanceof Node) {\r\n        if (node instanceof Container && jQuery.isArray(object['_content'])) {\r\n          const children = object['_content'];\r\n\r\n          for (var i = 0; i < children.length; i++) {\r\n            const child = this.load(children[i], controller);\r\n            node.add(child);\r\n          }\r\n        }\r\n\r\n        node.load(object, controller);\r\n\r\n        return node;\r\n      } else {\r\n        throw new Error(`Type '${type}' is not UI component class`);\r\n      }\r\n    }\r\n  }\r\n\r\n  loadFromJson(jsonString, controller) {\r\n    return this.load(JSON.parse(jsonString), controller);\r\n  }\r\n\r\n  loadFromUrl(urlToJson, callback, controller) {\r\n\r\n    jQuery.getJSON(urlToJson, (data) => {\r\n        callback(this.load(data, controller));\r\n    });\r\n  }\r\n}\r\n\r\nexport default UILoader;\r\n","import Container from './Container';\r\n\r\nclass AnchorPane extends Container {\r\n  createDom() {\r\n    var dom = super.createDom();\r\n    dom.addClass('ux-anchor-pane');\r\n    return dom;\r\n  }\r\n\r\n  createSlotDom(object) {\r\n    object.dom.css('position', 'absolute');\r\n    return object.dom;\r\n  }\r\n\r\n  childToBack(object) {\r\n    var dom = object.dom;\r\n    dom.detach();\r\n\r\n    this.dom.prepend(dom);\r\n  }\r\n\r\n  childToFront(object) {\r\n    var dom = object.dom;\r\n    dom.detach();\r\n    this.dom.append(dom);\r\n  }\r\n}\r\n\r\nexport default AnchorPane;\r\n","import Labeled from './Labeled';\r\n\r\nclass Button extends Labeled {\r\n\r\n    createDom() {\r\n        var dom = jQuery('<button><span class=\"ux-labeled-text\"></span></button>');\r\n        dom.addClass('ux-labeled');\r\n        dom.addClass('ux-button');\r\n\r\n        dom.addClass('btn');\r\n        dom.addClass('btn-default');\r\n\r\n        return dom;\r\n    }\r\n}\r\n\r\nexport default Button;\r\n","import Labeled from './Labeled';\r\n\r\nclass Checkbox extends Labeled {\r\n  createDom() {\r\n      var dom = jQuery('<label><input type=\"checkbox\"> <span class=\"ux-labeled-text\"></span></label>');\r\n      dom.addClass('ux-labeled');\r\n      dom.addClass('ux-checkbox');\r\n      return dom;\r\n  }\r\n\r\n  get checked() {\r\n    return this.dom.find('> input[type=checkbox]').prop('checked');\r\n  }\r\n\r\n  set checked(value) {\r\n    this.dom.find('> input[type=checkbox]').prop('checked', value);\r\n  }\r\n\r\n  get selected() {\r\n    return this.checked;\r\n  }\r\n\r\n  set selected(value) {\r\n    this.checked = value;\r\n  }\r\n}\r\n\r\nexport default Checkbox;\r\n","import Node from \"./Node\";\r\n\r\nclass Container extends Node {\r\n  constructor(nodes) {\r\n      super();\r\n      this.add(...arguments);\r\n  }\r\n\r\n  get align() {\r\n    return [this.horAlign, this.verAlign];\r\n  }\r\n\r\n  set align(value) {\r\n    if (value instanceof Array && value.length >= 2) {\r\n      this.horAlign = value[0];\r\n      this.verAlign = value[1];\r\n    }\r\n  }\r\n\r\n  get horAlign() {\r\n    return this.dom.css('text-align');\r\n  }\r\n\r\n  set horAlign(value) {\r\n    this.dom.css('text-align', value);\r\n  }\r\n\r\n  get verAlign() {\r\n    var align = this.dom.css('justify-content')\r\n    return align ? align : 'top';\r\n  }\r\n\r\n  set verAlign(value) {\r\n    this.dom.css('justify-content', value);\r\n  }\r\n\r\n  createSlotDom(object) {\r\n    if (!(object instanceof Node)) {\r\n      throw new TypeError('createSlotDom(): 1 argument must be instance of Node')\r\n    }\r\n\r\n    var dom = jQuery('<div/>').append(object.dom);\r\n    dom.addClass('ux-slot');\r\n\r\n    dom.data('--wrapper', object);\r\n    object.dom.data('--wrapper-dom', dom);\r\n    return dom;\r\n  }\r\n\r\n  createDom() {\r\n    var dom = jQuery('<div></div>');\r\n    dom.addClass('ux-container');\r\n\r\n    return dom;\r\n  }\r\n\r\n  child(id) {\r\n    var dom = this.dom.find(`#${id}`);\r\n\r\n    if (dom && dom.length) {\r\n      return Node.getFromDom(dom);\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  children() {\r\n    var children = [];\r\n\r\n    this.dom.children().each(function () {\r\n      children.push(Node.getFromDom(jQuery(this)));\r\n    });\r\n\r\n    return children;\r\n  }\r\n\r\n  add(nodes) {\r\n    for (var i = 0; i < arguments.length; i++) {\r\n      this.dom.append(this.createSlotDom(arguments[i]));\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  insert(index, nodes) {\r\n    index = index | 0;\r\n\r\n    var children = this.dom.children();\r\n\r\n    if (!children.length || index >= children.length) {\r\n      return this.add(...Array.prototype.slice.call(arguments, 1));\r\n    }\r\n\r\n    nodes = Array.prototype.slice.call(arguments, 1);\r\n\r\n    var i = 0;\r\n    var self = this;\r\n\r\n    this.dom.children().each(function () {\r\n      if (index === i) {\r\n        for (var k = 0; k < nodes.length; k++) {\r\n          var slot = self.createSlotDom(nodes[k]);\r\n          slot.insertBefore(this);\r\n        }\r\n\r\n        return false;\r\n      }\r\n\r\n      i++;\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  clear() {\r\n    this.dom.empty();\r\n  }\r\n}\r\n\r\nexport default Container;\r\n","import Container from './Container';\r\n\r\nclass HBox extends Container {\r\n\r\n  constructor(nodes) {\r\n    super(...arguments);\r\n\r\n    this.spacing = 0;\r\n  }\r\n\r\n  get spacing() {\r\n    return this._spacing;\r\n  }\r\n\r\n  set spacing(value) {\r\n    this._spacing = value;\r\n    var slots = this.dom.find('> div');\r\n\r\n    slots.css('margin-right', value + 'px');\r\n    slots.last().css('margin-right', 0);\r\n  }\r\n\r\n  get horAlign() {\r\n    var align = this.dom.css('justify-content');\r\n\r\n    switch (align) {\r\n      case 'flex-start': return 'left';\r\n      case 'flex-end': return 'right';\r\n    }\r\n\r\n    return align;\r\n  }\r\n\r\n  set horAlign(value) {\r\n    switch (value) {\r\n      case 'left':\r\n        value = 'flex-start'; break;\r\n      case 'right':\r\n        value = 'flex-end'; break;\r\n    }\r\n\r\n    this.dom.css('justify-content', value);\r\n  }\r\n\r\n  get verAlign() {\r\n    var align = this.dom.css('align-items');\r\n\r\n    switch (align) {\r\n      case 'flex-start': return 'top';\r\n      case 'flex-end': return 'bottom';\r\n    }\r\n\r\n    return align ? align : 'top';\r\n  }\r\n\r\n  set verAlign(value) {\r\n    switch (value) {\r\n      case 'top':\r\n        value = 'flex-start'; break;\r\n      case 'bottom':\r\n        value = 'flex-end'; break;\r\n    }\r\n\r\n    this.dom.css('align-items', value);\r\n  }\r\n\r\n  createDom() {\r\n    var dom = super.createDom();\r\n    dom.addClass('ux-h-box');\r\n\r\n    return dom;\r\n  }\r\n\r\n  createSlotDom(object) {\r\n    var dom = super.createSlotDom(object);\r\n    return dom;\r\n  }\r\n\r\n  add(nodes) {\r\n    super.add(...arguments);\r\n    this.spacing = this.spacing;\r\n  }\r\n\r\n  insert(index, nodes) {\r\n    super.insert(...arguments);\r\n    this.spacing = this.spacing;\r\n  }\r\n}\r\n\r\nexport default HBox;\r\n","import Node from './Node';\r\n\r\nclass ImageView extends Node {\r\n\r\n  constructor(image) {\r\n    super();\r\n\r\n    this.proportional = true;\r\n    this.displayType = 'origin';\r\n\r\n    if (image !== undefined) {\r\n      this.source = image;\r\n    }\r\n  }\r\n\r\n  get source() {\r\n    var source = this.dom.css('background-image');\r\n\r\n    if (source) {\r\n      source = /^url\\((['\"]?)(.*)\\1\\)$/.exec(source);\r\n      return source ? source[2] : null;\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  set source(value) {\r\n    this.dom.css({'background-image': `url('${value}')`});\r\n\r\n    if (this.displayType == 'origin') {\r\n      this.dom.find('img').attr('src', value);\r\n    }\r\n  }\r\n\r\n  get centered() {\r\n    return this.dom.css('background-position') === '50% 50%';\r\n  }\r\n\r\n  set centered(value) {\r\n    this.dom.css('background-position', value ? '50% 50%' : '0 0');\r\n  }\r\n\r\n  get displayType() {\r\n    switch (this.dom.css('background-size')) {\r\n      case '100% 100%': return 'filled';\r\n      case 'cover': return 'cropped';\r\n      case 'resized': return 'resized';\r\n\r\n      case 'auto':\r\n      case 'auto auto': return 'origin';\r\n\r\n      default:\r\n        return '';\r\n    }\r\n  }\r\n\r\n  set displayType(type) {\r\n    this.dom.find('img').remove();\r\n\r\n    switch (type.toString().toLowerCase()) {\r\n      case 'filled':\r\n        this.dom.css('background-size', `100% 100%`);\r\n        break;\r\n      case 'cropped':\r\n        this.dom.css('background-size', 'cover');\r\n        break;\r\n      case 'resized':\r\n        this.dom.css('background-size', 'contain');\r\n        break;\r\n      case 'origin':\r\n        var source = this.source;\r\n        this.dom.css('background-size', 'auto auto');\r\n        this.dom.append(jQuery('<img style=\"visibility: hidden\" />'));\r\n        this.source = source;\r\n        break;\r\n    }\r\n  }\r\n\r\n  createDom() {\r\n    var dom = jQuery('<div></div>');\r\n    dom.addClass('ux-image-view');\r\n\r\n    dom.css({\r\n      display: 'inline-block',\r\n      backgroundRepeat: 'no-repeat',\r\n      backgroundSize: '100% 100%',\r\n      backgroundPosition: '0 0'\r\n    });\r\n    return dom;\r\n  }\r\n}\r\n\r\nexport default ImageView;\r\n","import Labeled from './Labeled';\r\n\r\n\r\nclass Label extends Labeled {\r\n\r\n  createDom() {\r\n      var dom = jQuery('<span class=\"ux-labeled ux-label\"><span class=\"ux-labeled-text\"></span></span>');\r\n      return dom;\r\n  }\r\n}\r\n\r\nexport default Label;\r\n","import Node from './Node';\r\nimport Font from './paint/Font';\r\nimport ImageView from './ImageView';\r\nimport Utils from './util/Utils';\r\n\r\nclass Labeled extends Node {\r\n    constructor(text, graphic) {\r\n        super();\r\n        this.textType = 'text';\r\n        this.contentDisplay = 'left';\r\n        this.graphicTextGap = 4;\r\n        this.graphic = graphic;\r\n        this.text = text;\r\n    }\r\n\r\n    get font() {\r\n      return Font.getFromDom(this.dom);\r\n    }\r\n\r\n    set font(value) {\r\n      Font.applyToDom(value);\r\n    }\r\n\r\n    get text() {\r\n      switch (this.textType) {\r\n        case 'text':\r\n          return this.dom.find('> span.ux-labeled-text').text();\r\n        case 'html':\r\n          return this.dom.find('> span.ux-labeled-text').html();\r\n      }\r\n\r\n      return '';\r\n    }\r\n\r\n    set text(value) {\r\n      switch (this.textType) {\r\n        case 'text':\r\n          this.dom.find('> span.ux-labeled-text').text(value);\r\n          break;\r\n\r\n        case 'html':\r\n          this.dom.find('> span.ux-labeled-text').html(value);\r\n          break;\r\n      }\r\n    }\r\n\r\n    get textColor() {\r\n      return this.dom.css('color');\r\n    }\r\n\r\n    set textColor(value) {\r\n      this.dom.css('color', value ? value : '');\r\n    }\r\n\r\n    get textType() {\r\n      return this._textType;\r\n    }\r\n\r\n    set textType(value) {\r\n      var text = this.text;\r\n      var graphic = this.graphic;\r\n\r\n      if (value) {\r\n        this._textType = value.toString().toLowerCase();\r\n      } else {\r\n        this._textType = 'text';\r\n      }\r\n\r\n      this.text = text;\r\n      this.graphic = graphic;\r\n    }\r\n\r\n    get contentDisplay() {\r\n      if (this.dom.first().hasClass('ux-graphic')) {\r\n        if (this.dom.hasClass('ux-labeled-vertical')) {\r\n          return 'top';\r\n        } else {\r\n          return 'left';\r\n        }\r\n      } else if (this.dom.last().hasClass('ux-graphic')) {\r\n        if (this.dom.hasClass('ux-labeled-vertical')) {\r\n          return 'bottom';\r\n        } else {\r\n          return 'right';\r\n        }\r\n      } else {\r\n        return this._contentDisplay;\r\n      }\r\n    }\r\n\r\n    set contentDisplay(value) {\r\n      var graphic = this.graphic;\r\n      var graphicGap = this.graphicTextGap;\r\n      this._contentDisplay = value;\r\n\r\n      switch (value) {\r\n        case 'top':\r\n        case 'bottom':\r\n          this.dom.addClass('ux-labeled-vertical');\r\n          break;\r\n\r\n        case 'right':\r\n          this.dom.removeClass('ux-labeled-vertical');\r\n          break;\r\n\r\n        case 'left':\r\n        default:\r\n          this.dom.removeClass('ux-labeled-vertical');\r\n          this._contentDisplay = 'left';\r\n          break;\r\n      }\r\n\r\n      this.graphic = graphic;\r\n      this.graphicTextGap = graphicGap;\r\n    }\r\n\r\n    get graphicTextGap() {\r\n      var grDom = this.dom.find('.ux-graphic');\r\n\r\n      if (grDom.length) {\r\n        var prop = 'margin-right';\r\n\r\n        switch (this.contentDisplay) {\r\n          case 'bottom': prop = 'margin-top'; break;\r\n          case 'right': prop = 'margin-left'; break;\r\n          case 'top': prop = 'margin-bottom'; break;\r\n        }\r\n\r\n        return Utils.toPt(grDom.css(prop));\r\n      } else {\r\n        return this._graphicGap;\r\n      }\r\n    }\r\n\r\n    set graphicTextGap(value) {\r\n      this._graphicGap = value;\r\n\r\n      var grDom = this.dom.find('.ux-graphic');\r\n\r\n      if (grDom.length) {\r\n        grDom.css('margin', 0);\r\n\r\n        var prop = 'margin-right';\r\n\r\n        switch (this.contentDisplay) {\r\n          case 'bottom': prop = 'margin-top'; break;\r\n          case 'right': prop = 'margin-left'; break;\r\n          case 'top': prop = 'margin-bottom'; break;\r\n        }\r\n\r\n        grDom.css(prop, value + 'px');\r\n      }\r\n    }\r\n\r\n    get graphic() {\r\n      return Node.getFromDom(this.dom.find('.ux-graphic > *').first());\r\n    }\r\n\r\n    set graphic(node) {\r\n      var graphicGap = this.graphicTextGap;\r\n      this.dom.find('.ux-graphic').remove();\r\n\r\n      if (node) {\r\n        if (typeof node === 'string' || node instanceof String) {\r\n          node = new ImageView(node);\r\n        }\r\n\r\n        var dom = jQuery('<span class=\"ux-graphic\" />').append(node.dom);\r\n\r\n        switch (this.contentDisplay) {\r\n          case 'top':\r\n          case 'left':\r\n            this.dom.prepend(dom);\r\n            break;\r\n          case 'bottom':\r\n          case 'right':\r\n            this.dom.append(dom);\r\n            break;\r\n        }\r\n\r\n        this.graphicTextGap = graphicGap;\r\n      }\r\n    }\r\n}\r\n\r\nexport default Labeled;\r\n","import Utils from './util/Utils';\r\n\r\n/**\r\n * Base HTML Node class.\r\n **/\r\nclass Node {\r\n    constructor(dom) {\r\n        if (dom === undefined) {\r\n            this.dom = this.createDom();\r\n\r\n            if (!(this.dom instanceof jQuery)) {\r\n                throw new Error(\"Method createDom() must return instance of an jQuery object\");\r\n            }\r\n        } else {\r\n            if (dom instanceof jQuery) {\r\n                this.dom = dom;\r\n            } else {\r\n                throw new Error(\"Non-jquery object cannot be passed into Node.construct()\");\r\n            }\r\n        }\r\n\r\n        this.dom.data('--wrapper', this);\r\n    }\r\n\r\n    get id() { return this.dom.attr('id') }\r\n    set id(value) { this.dom.attr('id', value) }\r\n\r\n    get visible() {\r\n      return this.dom.is(':visible');\r\n    }\r\n\r\n    set visible(value) {\r\n      if (value) {\r\n        this.dom.show();\r\n      } else {\r\n        this.dom.hide();\r\n      }\r\n    }\r\n\r\n    get enabled() {\r\n      return !this.dom.prop(\"disabled\");\r\n    }\r\n\r\n    set enabled(value) {\r\n      this.dom.prop('disabled', !value);\r\n    }\r\n\r\n    get focused() {\r\n      return this.dom.is(':focus');\r\n    }\r\n\r\n    get style() { return this.dom.attr('style') }\r\n    set style(value) { this.dom.attr('style', value) }\r\n\r\n    get x() { return this.dom.position().left; }\r\n    set x(value) { this.dom.css({left: value}); }\r\n\r\n    get y() { return this.dom.position().top; }\r\n    set y(value) {\r\n        this.dom.css({top: value});\r\n    }\r\n\r\n    get position() { return [this.x, this.y]; }\r\n    set position(value) {\r\n        if (value instanceof Array && value.length >= 2) {\r\n            this.x = value[0];\r\n            this.y = value[1];\r\n        }\r\n    }\r\n\r\n    get width() { return this.dom.width() }\r\n    set width(value) { this.dom.width(value) }\r\n\r\n    get height() { return this.dom.height() }\r\n    set height(value) { this.dom.height(value) }\r\n\r\n    get size() { return [this.width, this.height] }\r\n    set size(value) {\r\n        if (value instanceof Array && value.length >= 2) {\r\n            this.width = value[0];\r\n            this.height = value[1];\r\n        }\r\n    }\r\n\r\n    get padding() {\r\n      return [\r\n          Utils.toPt(this.dom.css('padding-top')),\r\n          Utils.toPt(this.dom.css('padding-right')),\r\n          Utils.toPt(this.dom.css('padding-bottom')),\r\n          Utils.toPt(this.dom.css('padding-left'))\r\n      ];\r\n    }\r\n\r\n    set padding(value) {\r\n      if (value instanceof Array) {\r\n          if (value.length >= 4) {\r\n            this.dom.css({\r\n              'padding-top': value[0], 'padding-right': value[1],\r\n              'padding-bottom': value[2], 'padding-left': value[3]\r\n            });\r\n          } else if (value.length >= 2) {\r\n            this.dom.css({\r\n              'padding-top': value[0], 'padding-right': value[1],\r\n              'padding-bottom': value[0], 'padding-left': value[1]\r\n            });\r\n          } else if (value.length >= 1) {\r\n            this.dom.css('padding', value[0]);\r\n          } else {\r\n            this.dom.css('padding', 0);\r\n          }\r\n      } else {\r\n          this.dom.css('padding', value);\r\n      }\r\n    }\r\n\r\n    get parent() {\r\n      var parent = null;\r\n\r\n      if (this.dom.data('--wrapper-dom')) {\r\n        parent = this.dom.data('--wrapper-dom').parent();\r\n      } else {\r\n        parent = this.dom.parent();\r\n      }\r\n\r\n      if (!parent) {\r\n        return null;\r\n      }\r\n\r\n      return Node.getFromDom(parent);\r\n    }\r\n\r\n    get userData() {\r\n      return this.dom.data('--user-data');\r\n    }\r\n\r\n    set userData(value) {\r\n      this.dom.data('--user-data', value);\r\n    }\r\n\r\n    get controller() {\r\n      return this._controller;\r\n    }\r\n\r\n    set controller(object) {\r\n      this._controller = object;\r\n    }\r\n\r\n    createDom() {\r\n        throw new Error(\"Cannot call abstract method createDom()\");\r\n    }\r\n\r\n    requestFocus() {\r\n      this.focus();\r\n    }\r\n\r\n    relocate(x, y) {\r\n      this.position = [x, y];\r\n    }\r\n\r\n    resize(width, height) {\r\n      this.size = [width, height];\r\n    }\r\n\r\n    focus() {\r\n      this.dom.focus();\r\n    }\r\n\r\n    css(value) {\r\n      return this.dom.css(...arguments);\r\n    }\r\n\r\n    data(params) {\r\n      if (arguments.length === 1) {\r\n        return this.dom.data(...arguments);\r\n      } else {\r\n        this.dom.data(...arguments);\r\n        return this;\r\n      }\r\n    }\r\n\r\n    lookup(selector) {\r\n      var dom = this.dom.find(selector).first();\r\n\r\n      if (dom) {\r\n        return Node.getFromDom(dom);\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n    lookupAll(selector) {\r\n      var nodes = [];\r\n\r\n      this.dom.find(selector).each(() => {\r\n        nodes.push(Node.getFromDom(this));\r\n      });\r\n\r\n      return nodes;\r\n    }\r\n\r\n    toFront() {\r\n      var parent = this.parent;\r\n\r\n      if (parent) {\r\n        if (parent['childToFront']) {\r\n          parent.childToFront(this);\r\n        }\r\n      }\r\n    }\r\n\r\n    toBack() {\r\n      var parent = this.parent;\r\n\r\n      if (parent) {\r\n        if (parent['childToBack']) {\r\n          parent.childToBack(this);\r\n        }\r\n      }\r\n    }\r\n\r\n    free() {\r\n      var wrapperDom = this.dom.data('--wrapper-dom');\r\n\r\n      if (wrapperDom) {\r\n        wrapperDom.dom.remove();\r\n      } else {\r\n        this.dom.detach();\r\n      }\r\n\r\n      return this;\r\n    }\r\n\r\n    show() {\r\n      this.dom.show();\r\n      return this;\r\n    }\r\n\r\n    hide() {\r\n      this.dom.hide();\r\n      return this;\r\n    }\r\n\r\n    toggle() {\r\n      this.dom.toggle();\r\n      return this;\r\n    }\r\n\r\n    on(event, callback) {\r\n      this.dom.on(event, (event) => {\r\n        event.sender = this;\r\n        callback.call(this, event);\r\n      });\r\n\r\n      return this;\r\n    }\r\n\r\n    bind(handlers) {\r\n\r\n    }\r\n\r\n    off(event) {\r\n      this.dom.off(event);\r\n      return this;\r\n    }\r\n\r\n    trigger(event, params) {\r\n      return this.dom.trigger(event, params);\r\n    }\r\n\r\n    child(id) {\r\n      return null;\r\n    }\r\n\r\n    load(object, controller) {\r\n      for (var prop in object) {\r\n        if (object.hasOwnProperty(prop)) {\r\n          if (prop[0] == '_') {\r\n            continue;\r\n          }\r\n\r\n          const value = object[prop];\r\n\r\n          switch (prop) {\r\n            case 'on':\r\n              if (controller) {\r\n                for (var event in value) {\r\n\r\n                  if (value.hasOwnProperty(event)) {\r\n                    const handler = value[event];\r\n                    if (typeof controller[handler] === 'function') {\r\n                      this.on(event, controller[handler].bind(controller));\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n              break;\r\n\r\n            default:\r\n              this[prop] = value;\r\n              break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    static getFromDom(jqueryObject) {\r\n        if (jqueryObject === null || jqueryObject.length === 0) {\r\n            return null;\r\n        }\r\n\r\n        if (jqueryObject instanceof jQuery) {\r\n            var wrapper =  jqueryObject.data('--wrapper');\r\n            return wrapper ? wrapper : new Node(jqueryObject);\r\n        }\r\n\r\n        throw new Error(\"Node.getFromDom(): 1 argument must be an jQuery object\");\r\n    }\r\n}\r\n\r\nexport default Node;\r\n","import UILoader from './../NX/UILoader';\r\nimport Container from './Container';\r\n\r\nclass Page {\r\n  constructor(uiResource) {\r\n    this.uiLoader = new UILoader();\r\n    this.ui = {};\r\n    this._content = null;\r\n\r\n    this.load(uiResource);\r\n  }\r\n\r\n  get content() {\r\n    return this._content;\r\n  }\r\n\r\n  bindOne(id, handler) {\r\n    if (this._binds) {\r\n      this._binds[id] = handler;\r\n    } else {\r\n      this._binds = {}\r\n      this._binds[id] = handler;\r\n    }\r\n\r\n    if (this._content) {\r\n      var sub = this._content.child(id);\r\n\r\n      if (sub) {\r\n        for (var event in handler) {\r\n          if (handler.hasOwnProperty(event)) {\r\n            sub.on(event, (e) => {\r\n              handler[event].call(this, e);\r\n            });\r\n          }\r\n        }\r\n      } else {\r\n        console.warn(`Child '${id}' is not defined`);\r\n      }\r\n    }\r\n  }\r\n\r\n  bind(handlers) {\r\n    this._binds = handlers;\r\n\r\n    if (this._content) {\r\n      for (var id in handlers) {\r\n        if (handlers.hasOwnProperty(id)) {\r\n          this.bindOne(id, handlers[id]);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  load(uiResource) {\r\n    if (uiResource instanceof String || typeof uiResource === 'string') {\r\n      this.uiLoader.loadFromUrl(uiResource, (node) => {\r\n          this._content = node;\r\n          this.afterLoad();\r\n      }, this);\r\n    } else {\r\n      this._content = this.uiLoader.load(uiResource, this);\r\n      this.afterLoad();\r\n    }\r\n  }\r\n\r\n  afterLoad() {\r\n    if (this._binds) {\r\n      this.bind(this._binds);\r\n    }\r\n\r\n    this._refreshUi();\r\n\r\n    if (this._app) {\r\n      this._app.content = this._content;\r\n    }\r\n  }\r\n\r\n  _refreshUi() {\r\n    this.ui = {};\r\n\r\n    var self = this;\r\n\r\n    const refresh = function (node) {\r\n      if (node instanceof Container) {\r\n        var children = node.children();\r\n\r\n        for (var i = 0; i < children.length; i++) {\r\n          var child = children[i];\r\n\r\n          if (child) {\r\n            var id = child.id;\r\n\r\n            if (id && !self.ui[id]) {\r\n              self.ui[id] = child;\r\n              refresh(child);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    refresh(this._content);\r\n\r\n    if (this._app) {\r\n      window.ui = this.ui;\r\n    }\r\n  }\r\n\r\n  showInApp(app) {\r\n    this._app = app;\r\n\r\n    if (this._content) {\r\n      app.content = this._content;\r\n      window.ui = this.ui;\r\n    }\r\n  }\r\n}\r\n\r\nexport default Page;\r\n","import TextInputControl from './TextInputControl';\r\n\r\nclass TextArea extends TextInputControl {\r\n  createDom() {\r\n    var dom = jQuery('<textarea class=\"form-control ux-text-input-control ux-text-area\" />');\r\n    return dom;\r\n  }\r\n}\r\n\r\nexport default TextArea;\r\n","import TextInputControl from './TextInputControl';\r\n\r\nclass TextField extends TextInputControl {\r\n  createDom() {\r\n    var dom = jQuery('<input type=\"text\" class=\"form-control ux-text-input-control ux-text-field\" />');\r\n    return dom;\r\n  }\r\n}\r\n\r\nexport default TextField;\r\n","import Node from './Node';\r\n\r\nclass TextInputControl extends Node {\r\n  \r\n  get editable() {\r\n    return !this.dom.prop('readonly');\r\n  }\r\n\r\n  set editable(value) {\r\n    this.dom.prop('readonly', !value);\r\n  }\r\n\r\n  get textAlign() {\r\n    return thid.dom.css('text-algin');\r\n  }\r\n\r\n  set textAlign(value) {\r\n    this.dom.css('text-algin', value);\r\n  }\r\n\r\n  get font() {\r\n    return Font.getFromDom(this.dom);\r\n  }\r\n\r\n  set font(value) {\r\n    Font.applyToDom(value);\r\n  }\r\n\r\n  get text() {\r\n    return this.dom.val();\r\n  }\r\n\r\n  set text(value) {\r\n    this.dom.val(value);\r\n  }\r\n}\r\n\r\nexport default TextInputControl;\r\n","import Button from './Button';\r\n\r\nclass ToggleButton extends Button {\r\n  createDom() {\r\n    var dom = super.createDom();\r\n    dom.addClass('ux-toggle-button');\r\n    dom.attr('data-toggle', 'button');\r\n    return dom;\r\n  }\r\n\r\n  get selected() {\r\n    return this.dom.hasClass('active');\r\n  }\r\n\r\n  set selected(value) {\r\n    if (value) {\r\n      this.dom.addClass('active');\r\n      this.dom.attr('aria-pressed', true);\r\n    } else {\r\n      this.dom.removeClass('active');\r\n      this.dom.attr('aria-pressed', false);\r\n    }\r\n  }\r\n\r\n  __bindEvents(dom) {\r\n    dom.on('click', () => {\r\n      this.selected = !this.selected;\r\n    });\r\n  }\r\n}\r\n\r\nexport default ToggleButton;\r\n","import Page from './Page';\r\nimport Node from './Node';\r\nimport Button from './Button';\r\nimport ToggleButton from './ToggleButton';\r\nimport Labeled from './Labeled';\r\nimport Label from './Label';\r\nimport Checkbox from './Checkbox';\r\nimport Container from './Container';\r\nimport HBox from './HBox';\r\nimport VBox from './VBox';\r\nimport AnchorPane from './AnchorPane';\r\nimport ImageView from './ImageView';\r\nimport TextInputControl from './TextInputControl';\r\nimport TextField from './TextField';\r\nimport TextArea from './TextArea';\r\n\r\n\r\nimport Font from './paint/Font';\r\nimport Utils from './util/Utils';\r\n\r\nexport default {\r\n  Page,\r\n  Node,\r\n  ImageView,\r\n  Button, ToggleButton,\r\n  Labeled,\r\n  Label, Checkbox,\r\n  TextInputControl, TextField, TextArea,\r\n  Container, HBox, VBox, AnchorPane,\r\n\r\n  Font\r\n}\r\n","import Container from './Container';\r\n\r\nclass VBox extends Container {\r\n\r\n  constructor(nodes) {\r\n    super(...arguments);\r\n\r\n    this.spacing = 0;\r\n  }\r\n\r\n  get spacing() {\r\n    return this._spacing;\r\n  }\r\n\r\n  set spacing(value) {\r\n    this._spacing = value;\r\n    var slots = this.dom.find('> div');\r\n\r\n    slots.css('margin-bottom', value + 'px');\r\n    slots.last().css('margin-bottom', 0);\r\n  }\r\n\r\n\r\n    get horAlign() {\r\n      var align = this.dom.css('align-items');\r\n\r\n      switch (align) {\r\n        case 'flex-start': return 'left';\r\n        case 'flex-end': return 'right';\r\n      }\r\n\r\n      return align;\r\n    }\r\n\r\n    set horAlign(value) {\r\n      switch (value) {\r\n        case 'left':\r\n          value = 'flex-start'; break;\r\n        case 'right':\r\n          value = 'flex-end'; break;\r\n      }\r\n\r\n      this.dom.css('align-items', value);\r\n    }\r\n\r\n    get verAlign() {\r\n      var align = this.dom.css('justify-content');\r\n\r\n      switch (align) {\r\n        case 'flex-start': return 'top';\r\n        case 'flex-end': return 'bottom';\r\n      }\r\n\r\n      return align ? align : 'top';\r\n    }\r\n\r\n    set verAlign(value) {\r\n      switch (value) {\r\n        case 'top':\r\n          value = 'flex-start'; break;\r\n        case 'bottom':\r\n          value = 'flex-end'; break;\r\n      }\r\n\r\n      this.dom.css('justify-content', value);\r\n    }\r\n\r\n  createDom() {\r\n    var dom = super.createDom();\r\n    dom.addClass('ux-v-box');\r\n\r\n    return dom;\r\n  }\r\n\r\n  createSlotDom(object) {\r\n    var dom = super.createSlotDom(object);\r\n    return dom;\r\n  }\r\n}\r\n\r\nexport default VBox;\r\n","import Utils from './../util/Utils';\r\n\r\nclass Font {\r\n  constructor(name, size) {\r\n    this._dom = null;\r\n    this.name = name || 'serif';\r\n    this.size = size || 12;\r\n  }\r\n\r\n  get name() {\r\n    return this._name;\r\n  }\r\n\r\n  set name(value) {\r\n    this._name = value;\r\n\r\n    if (this._dom) {\r\n      this._dom.css('font-family', value);\r\n    }\r\n  }\r\n\r\n  get size() {\r\n    return this._size;\r\n  }\r\n\r\n  set size(value) {\r\n    this._size = value | 0;\r\n\r\n    if (this._dom) {\r\n      this._dom.css('font-size', value + 'px');\r\n    }\r\n  }\r\n\r\n  get bold() {\r\n    return this._bold | false;\r\n  }\r\n\r\n  set bold(value) {\r\n    this._bold = value | false;\r\n\r\n    if (this._dom) {\r\n      this._dom.css('font-weight', this._bold ? 'bold' : 'normal');\r\n    }\r\n  }\r\n\r\n  get italic() {\r\n    return this._italic | false;\r\n  }\r\n\r\n  set italic(value) {\r\n    this._italic = value | false;\r\n\r\n    if (this._dom) {\r\n      this._dom.css('font-style', this._italic ? 'italic' : 'normal');\r\n    }\r\n  }\r\n\r\n  get underline() {\r\n    return this._underline | false;\r\n  }\r\n\r\n  set underline(value) {\r\n    this._underline = value | false;\r\n\r\n    if (this._dom) {\r\n      this._dom.css('text-decoration', this._underline ? 'underline' : 'none');\r\n    }\r\n  }\r\n\r\n  static applyToDom(dom, font) {\r\n    if (font instanceof Font) {\r\n      dom.css('font-family', font.name);\r\n      dom.css('font-size', font.size);\r\n\r\n      if (font.bold) {\r\n        dom.css('font-weight', 'bold');\r\n      }\r\n\r\n      if (font.italic) {\r\n        dom.css('font-style', 'italic');\r\n      }\r\n\r\n      if (font.underline) {\r\n        dom.css('text-decoration', 'underline');\r\n      }\r\n    }\r\n  }\r\n\r\n  static getFromDom(dom) {\r\n    if (dom instanceof jQuery) {\r\n      var family = dom.css('font-family');\r\n      var size = Utils.toPt(dom.css('font-size'));\r\n\r\n      var bold = dom.css('font-weight') === 'bold';\r\n      var italic = dom.css('font-style') === 'italic';\r\n\r\n      var font = new Font(family, size);\r\n\r\n      if (bold) font.bold = true;\r\n      if (italic) font.italic = true;\r\n\r\n      font._dom = dom;\r\n      return font;\r\n    }\r\n\r\n    throw new TypeError('getFromDom(): 1 argument must be jquery object');\r\n  }\r\n}\r\n\r\nexport default Font;\r\n","\r\n\r\nclass Utils\r\n{\r\n  static isElement(obj) {\r\n    try {\r\n      //Using W3 DOM2 (works for FF, Opera and Chrom)\r\n      return obj instanceof HTMLElement;\r\n    } catch(e){\r\n      //Browsers not supporting W3 DOM2 don't have HTMLElement and\r\n      //an exception is thrown and we end up here. Testing some\r\n      //properties that all elements have. (works on IE7)\r\n      return (typeof obj===\"object\") &&\r\n        (obj.nodeType===1) && (typeof obj.style === \"object\") &&\r\n        (typeof obj.ownerDocument ===\"object\");\r\n    }\r\n  }\r\n\r\n  static toPt(cssValue) {\r\n    return parseInt(cssValue);\r\n  }\r\n}\r\n\r\nexport default Utils;\r\n","import NX from './NX/NX';\r\nimport UX from './UX/UX';\r\n\r\nwindow.NX = NX;\r\nwindow.UX = UX;\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXE5YXFxBcHAuanMiLCJzcmNcXE5YXFxDb250cm9sbGVyLmpzIiwic3JjXFxOWFxcTG9nZ2VyLmpzIiwic3JjXFxOWFxcTlguanMiLCJzcmNcXE5YXFxVSUxvYWRlci5qcyIsInNyY1xcVVhcXEFuY2hvclBhbmUuanMiLCJzcmNcXFVYXFxCdXR0b24uanMiLCJzcmNcXFVYXFxDaGVja2JveC5qcyIsInNyY1xcVVhcXENvbnRhaW5lci5qcyIsInNyY1xcVVhcXEhCb3guanMiLCJzcmNcXFVYXFxJbWFnZVZpZXcuanMiLCJzcmNcXFVYXFxMYWJlbC5qcyIsInNyY1xcVVhcXExhYmVsZWQuanMiLCJzcmNcXFVYXFxOb2RlLmpzIiwic3JjXFxVWFxcUGFnZS5qcyIsInNyY1xcVVhcXFRleHRBcmVhLmpzIiwic3JjXFxVWFxcVGV4dEZpZWxkLmpzIiwic3JjXFxVWFxcVGV4dElucHV0Q29udHJvbC5qcyIsInNyY1xcVVhcXFRvZ2dsZUJ1dHRvbi5qcyIsInNyY1xcVVhcXFVYLmpzIiwic3JjXFxVWFxcVkJveC5qcyIsInNyY1xcVVhcXHBhaW50XFxGb250LmpzIiwic3JjXFxVWFxcdXRpbFxcVXRpbHMuanMiLCJzcmNcXGxpYi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7QUNBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFFQTs7OztBQUNBOzs7Ozs7OztJQUVNLEc7QUFDSixlQUFZLFVBQVosRUFBd0I7QUFBQTs7QUFDdEIsU0FBSyxNQUFMLEdBQWMsc0JBQWQ7QUFDQSxTQUFLLFFBQUwsR0FBZ0Isd0JBQWhCO0FBQ0EsU0FBSyxRQUFMLEdBQWdCLElBQWhCOztBQUVBLFFBQUksZ0JBQU0sU0FBTixDQUFnQixVQUFoQixDQUFKLEVBQWlDO0FBQy9CLFdBQUssR0FBTCxHQUFXLE9BQU8sVUFBUCxDQUFYO0FBQ0QsS0FGRCxNQUVPO0FBQ0wsVUFBSSxzQkFBc0IsTUFBMUIsRUFBa0M7QUFDaEMsYUFBSyxHQUFMLEdBQVcsVUFBWDtBQUNELE9BRkQsTUFFTztBQUNMLGFBQUssR0FBTCxHQUFXLE9BQU8sUUFBUCxFQUFpQixJQUFqQixDQUFzQixVQUF0QixFQUFrQyxLQUFsQyxFQUFYO0FBQ0Q7QUFDRjtBQUNGOzs7OzZCQXVCUSxJLEVBQU07QUFDYixXQUFLLFNBQUwsQ0FBZSxJQUFmO0FBQ0Q7Ozt3QkFFRyxPLEVBQVM7QUFDWCxXQUFLLE1BQUwsQ0FBWSxJQUFaLENBQWlCLE9BQWpCO0FBQ0Q7Ozt3QkEzQmE7QUFDWixhQUFPLEtBQUssUUFBWjtBQUNELEs7c0JBRVcsSSxFQUFNO0FBQ2hCLFdBQUssR0FBTCxDQUFTLEtBQVQ7O0FBRUEsVUFBSSw4QkFBSixFQUEwQjtBQUN4QixhQUFLLFFBQUwsR0FBZ0IsSUFBaEI7QUFDQSxhQUFLLEdBQUwsQ0FBUyxNQUFULENBQWdCLEtBQUssR0FBckI7QUFDRCxPQUhELE1BR08sSUFBSSxTQUFTLElBQWIsRUFBbUI7QUFDeEIsYUFBSyxRQUFMLEdBQWdCLElBQWhCO0FBQ0QsT0FGTSxNQUVBO0FBQ0wsWUFBSSxJQUFKLEVBQVU7QUFDUixnQkFBTSxJQUFJLEtBQUosQ0FBVSxrREFBa0QsS0FBSyxXQUFMLEdBQW1CLEtBQUssV0FBTCxDQUFpQixJQUFwQyxVQUFrRCxJQUFsRCx5Q0FBa0QsSUFBbEQsQ0FBbEQsSUFBNEcsUUFBdEgsQ0FBTjtBQUNELFNBRkQsTUFFTztBQUNMLGdCQUFNLElBQUksS0FBSixDQUFVLDZEQUFWLENBQU47QUFDRDtBQUNGO0FBQ0Y7Ozs7OztrQkFXWSxHOzs7Ozs7Ozs7OztrQkN4QlMsVTs7QUE5QnhCOzs7Ozs7OztJQUVNLEU7QUFFSixjQUFZLElBQVosRUFBa0I7QUFBQTs7QUFDaEIsU0FBSyxLQUFMLEdBQWEsSUFBYjs7QUFFQSxTQUFLLE9BQUwsQ0FBYSxJQUFiO0FBQ0Q7Ozs7NEJBRU8sSSxFQUFNO0FBQ1osVUFBSSxtQ0FBSixFQUErQjtBQUM3QixZQUFJLFdBQVcsS0FBSyxRQUFMLEVBQWY7O0FBRUEsYUFBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLFNBQVMsTUFBN0IsRUFBcUMsR0FBckMsRUFBMEM7QUFDeEMsY0FBSSxRQUFRLFNBQVMsQ0FBVCxDQUFaOztBQUVBLGNBQUksS0FBSixFQUFXO0FBQ1QsZ0JBQUksS0FBSyxNQUFNLEVBQWY7O0FBRUEsZ0JBQUksTUFBTSxDQUFDLEtBQUssRUFBTCxDQUFYLEVBQXFCO0FBQ25CLG1CQUFLLEVBQUwsSUFBVyxLQUFYO0FBQ0EsbUJBQUssT0FBTCxDQUFhLEtBQWI7QUFDRDtBQUNGO0FBQ0Y7QUFDRjtBQUNGOzs7Ozs7QUFHWSxTQUFTLFVBQVQsQ0FBb0IsUUFBcEIsRUFBOEI7QUFDM0MsU0FBTyxVQUFVLElBQVYsRUFBZ0I7QUFDckIsUUFBSSxPQUFPLElBQVg7O0FBRUEsU0FBSyxJQUFMLEdBQVksSUFBWjtBQUNBLFNBQUssUUFBTCxHQUFnQixRQUFoQjtBQUNBLFNBQUssRUFBTCxHQUFVLElBQUksRUFBSixDQUFPLElBQVAsQ0FBVjs7QUFFQSxRQUFJLE9BQU8sU0FBUCxJQUFPLEdBQVk7QUFDckIsV0FBSyxJQUFJLEVBQVQsSUFBZSxRQUFmLEVBQXlCO0FBQ3ZCLFlBQUksU0FBUyxjQUFULENBQXdCLEVBQXhCLENBQUosRUFBaUM7QUFDL0IsY0FBSSxNQUFNLEtBQUssS0FBTCxDQUFXLEVBQVgsQ0FBVjs7QUFFQSxjQUFJLEdBQUosRUFBUztBQUNQLGlCQUFLLElBQUwsQ0FBVSxHQUFWLEVBQWUsU0FBUyxFQUFULENBQWY7QUFDRCxXQUZELE1BRU87QUFDTCxvQkFBUSxJQUFSLGNBQXVCLEVBQXZCO0FBQ0Q7QUFDRjtBQUNGO0FBQ0YsS0FaRDs7QUFjQSxTQUFLLElBQUwsR0FBWSxVQUFVLElBQVYsRUFBZ0IsUUFBaEIsRUFBMEI7QUFDcEMsV0FBSyxJQUFJLEtBQVQsSUFBa0IsUUFBbEIsRUFBNEI7QUFDMUIsWUFBSSxTQUFTLGNBQVQsQ0FBd0IsS0FBeEIsQ0FBSixFQUFvQztBQUNsQyxlQUFLLEVBQUwsQ0FBUSxLQUFSLEVBQWUsVUFBQyxDQUFELEVBQU87QUFDcEIsY0FBRSxFQUFGLEdBQU8sS0FBSyxFQUFaO0FBQ0EscUJBQVMsS0FBVCxFQUFnQixJQUFoQixDQUFxQixJQUFyQixFQUEyQixDQUEzQjtBQUNELFdBSEQ7QUFJRDtBQUNGO0FBQ0YsS0FURDs7QUFXQTtBQUNELEdBakNEO0FBa0NEOzs7Ozs7Ozs7Ozs7O0lDL0RLLE07Ozt3QkFDZTtBQUFFLGFBQU8sQ0FBUDtBQUFVOzs7d0JBQ2I7QUFBRSxhQUFPLEVBQVA7QUFBVzs7O3dCQUNWO0FBQUUsYUFBTyxHQUFQO0FBQVk7Ozt3QkFDaEI7QUFBRSxhQUFPLElBQVA7QUFBYTs7O0FBRWxDLG9CQUFjO0FBQUE7O0FBQ1osU0FBSyxLQUFMLEdBQWEsT0FBTyxJQUFwQjtBQUNEOzs7OzBCQUVLLE8sRUFBUztBQUNiLFVBQUksS0FBSyxLQUFMLElBQWMsT0FBTyxLQUF6QixFQUFnQztBQUFBOztBQUM5Qiw2QkFBUSxLQUFSLGlCQUFpQixTQUFqQjtBQUNEO0FBQ0Y7Ozt5QkFFSSxPLEVBQVM7QUFDWixVQUFJLEtBQUssS0FBTCxJQUFjLE9BQU8sSUFBekIsRUFBK0I7QUFBQTs7QUFDN0IsOEJBQVEsSUFBUixrQkFBZ0IsU0FBaEI7QUFDRDtBQUNGOzs7MEJBRUssTyxFQUFTO0FBQ2IsVUFBSSxLQUFLLEtBQUwsSUFBYyxPQUFPLEtBQXpCLEVBQWdDO0FBQUE7O0FBQzlCLDhCQUFRLEtBQVIsa0JBQWlCLFNBQWpCO0FBQ0Q7QUFDRjs7O3lCQUVJLE8sRUFBUztBQUNaLFVBQUksS0FBSyxLQUFMLElBQWMsT0FBTyxPQUF6QixFQUFrQztBQUNoQyxnQkFBUSxJQUFSLENBQWEsT0FBYjtBQUNEO0FBQ0Y7Ozs7OztrQkFHWSxNOzs7Ozs7Ozs7QUNyQ2Y7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztrQkFHZTtBQUNiLG9CQURhLEVBQ1Isd0JBRFEsRUFDQSw0QkFEQTtBQUViO0FBRmEsQzs7Ozs7Ozs7Ozs7OztBQ05mOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7SUFFTSxROzs7Ozs7O3lCQUVDLE0sRUFBUSxVLEVBQVk7QUFDdkIsVUFBSSxVQUFVLFFBQU8sTUFBUCx5Q0FBTyxNQUFQLE9BQWtCLFFBQWhDLEVBQTBDO0FBQ3hDLFlBQU0sT0FBTyxPQUFPLEdBQVAsQ0FBYjs7QUFFQSxZQUFJLENBQUMsSUFBTCxFQUFXO0FBQ1QsZ0JBQU0sSUFBSSxLQUFKLENBQVUsc0NBQVYsQ0FBTjtBQUNEOztBQUVELFlBQU0sTUFBTSxhQUFHLElBQUgsQ0FBWjs7QUFFQSxZQUFJLENBQUMsR0FBTCxFQUFVO0FBQ1IsZ0JBQU0sSUFBSSxLQUFKLGFBQW1CLElBQW5CLHVCQUFOO0FBQ0Q7O0FBRUQsWUFBTSxPQUFPLElBQUksR0FBSixFQUFiOztBQUVBLFlBQUksOEJBQUosRUFBMEI7QUFDeEIsY0FBSSx1Q0FBNkIsT0FBTyxPQUFQLENBQWUsT0FBTyxVQUFQLENBQWYsQ0FBakMsRUFBcUU7QUFDbkUsZ0JBQU0sV0FBVyxPQUFPLFVBQVAsQ0FBakI7O0FBRUEsaUJBQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxTQUFTLE1BQTdCLEVBQXFDLEdBQXJDLEVBQTBDO0FBQ3hDLGtCQUFNLFFBQVEsS0FBSyxJQUFMLENBQVUsU0FBUyxDQUFULENBQVYsRUFBdUIsVUFBdkIsQ0FBZDtBQUNBLG1CQUFLLEdBQUwsQ0FBUyxLQUFUO0FBQ0Q7QUFDRjs7QUFFRCxlQUFLLElBQUwsQ0FBVSxNQUFWLEVBQWtCLFVBQWxCOztBQUVBLGlCQUFPLElBQVA7QUFDRCxTQWJELE1BYU87QUFDTCxnQkFBTSxJQUFJLEtBQUosYUFBbUIsSUFBbkIsa0NBQU47QUFDRDtBQUNGO0FBQ0Y7OztpQ0FFWSxVLEVBQVksVSxFQUFZO0FBQ25DLGFBQU8sS0FBSyxJQUFMLENBQVUsS0FBSyxLQUFMLENBQVcsVUFBWCxDQUFWLEVBQWtDLFVBQWxDLENBQVA7QUFDRDs7O2dDQUVXLFMsRUFBVyxRLEVBQVUsVSxFQUFZO0FBQUE7O0FBRTNDLGFBQU8sT0FBUCxDQUFlLFNBQWYsRUFBMEIsVUFBQyxJQUFELEVBQVU7QUFDaEMsaUJBQVMsTUFBSyxJQUFMLENBQVUsSUFBVixFQUFnQixVQUFoQixDQUFUO0FBQ0gsT0FGRDtBQUdEOzs7Ozs7a0JBR1ksUTs7Ozs7Ozs7Ozs7OztBQ3JEZjs7Ozs7Ozs7Ozs7O0lBRU0sVTs7Ozs7Ozs7Ozs7Z0NBQ1E7QUFDVixVQUFJLHVIQUFKO0FBQ0EsVUFBSSxRQUFKLENBQWEsZ0JBQWI7QUFDQSxhQUFPLEdBQVA7QUFDRDs7O2tDQUVhLE0sRUFBUTtBQUNwQixhQUFPLEdBQVAsQ0FBVyxHQUFYLENBQWUsVUFBZixFQUEyQixVQUEzQjtBQUNBLGFBQU8sT0FBTyxHQUFkO0FBQ0Q7OztnQ0FFVyxNLEVBQVE7QUFDbEIsVUFBSSxNQUFNLE9BQU8sR0FBakI7QUFDQSxVQUFJLE1BQUo7O0FBRUEsV0FBSyxHQUFMLENBQVMsT0FBVCxDQUFpQixHQUFqQjtBQUNEOzs7aUNBRVksTSxFQUFRO0FBQ25CLFVBQUksTUFBTSxPQUFPLEdBQWpCO0FBQ0EsVUFBSSxNQUFKO0FBQ0EsV0FBSyxHQUFMLENBQVMsTUFBVCxDQUFnQixHQUFoQjtBQUNEOzs7Ozs7a0JBR1ksVTs7Ozs7Ozs7Ozs7QUM1QmY7Ozs7Ozs7Ozs7OztJQUVNLE07Ozs7Ozs7Ozs7O29DQUVVO0FBQ1IsZ0JBQUksTUFBTSxPQUFPLHdEQUFQLENBQVY7QUFDQSxnQkFBSSxRQUFKLENBQWEsWUFBYjtBQUNBLGdCQUFJLFFBQUosQ0FBYSxXQUFiOztBQUVBLGdCQUFJLFFBQUosQ0FBYSxLQUFiO0FBQ0EsZ0JBQUksUUFBSixDQUFhLGFBQWI7O0FBRUEsbUJBQU8sR0FBUDtBQUNIOzs7Ozs7a0JBR1UsTTs7Ozs7Ozs7Ozs7QUNoQmY7Ozs7Ozs7Ozs7OztJQUVNLFE7Ozs7Ozs7Ozs7O2dDQUNRO0FBQ1IsVUFBSSxNQUFNLE9BQU8sOEVBQVAsQ0FBVjtBQUNBLFVBQUksUUFBSixDQUFhLFlBQWI7QUFDQSxVQUFJLFFBQUosQ0FBYSxhQUFiO0FBQ0EsYUFBTyxHQUFQO0FBQ0g7Ozt3QkFFYTtBQUNaLGFBQU8sS0FBSyxHQUFMLENBQVMsSUFBVCxDQUFjLHdCQUFkLEVBQXdDLElBQXhDLENBQTZDLFNBQTdDLENBQVA7QUFDRCxLO3NCQUVXLEssRUFBTztBQUNqQixXQUFLLEdBQUwsQ0FBUyxJQUFULENBQWMsd0JBQWQsRUFBd0MsSUFBeEMsQ0FBNkMsU0FBN0MsRUFBd0QsS0FBeEQ7QUFDRDs7O3dCQUVjO0FBQ2IsYUFBTyxLQUFLLE9BQVo7QUFDRCxLO3NCQUVZLEssRUFBTztBQUNsQixXQUFLLE9BQUwsR0FBZSxLQUFmO0FBQ0Q7Ozs7OztrQkFHWSxROzs7Ozs7Ozs7OztBQzNCZjs7Ozs7Ozs7Ozs7Ozs7SUFFTSxTOzs7QUFDSixxQkFBWSxLQUFaLEVBQW1CO0FBQUE7O0FBQUE7O0FBRWYsVUFBSyxHQUFMLGNBQVksU0FBWjtBQUZlO0FBR2xCOzs7O2tDQThCYSxNLEVBQVE7QUFDcEIsVUFBSSxFQUFFLGdDQUFGLENBQUosRUFBK0I7QUFDN0IsY0FBTSxJQUFJLFNBQUosQ0FBYyxzREFBZCxDQUFOO0FBQ0Q7O0FBRUQsVUFBSSxNQUFNLE9BQU8sUUFBUCxFQUFpQixNQUFqQixDQUF3QixPQUFPLEdBQS9CLENBQVY7QUFDQSxVQUFJLFFBQUosQ0FBYSxTQUFiOztBQUVBLFVBQUksSUFBSixDQUFTLFdBQVQsRUFBc0IsTUFBdEI7QUFDQSxhQUFPLEdBQVAsQ0FBVyxJQUFYLENBQWdCLGVBQWhCLEVBQWlDLEdBQWpDO0FBQ0EsYUFBTyxHQUFQO0FBQ0Q7OztnQ0FFVztBQUNWLFVBQUksTUFBTSxPQUFPLGFBQVAsQ0FBVjtBQUNBLFVBQUksUUFBSixDQUFhLGNBQWI7O0FBRUEsYUFBTyxHQUFQO0FBQ0Q7OzswQkFFSyxFLEVBQUk7QUFDUixVQUFJLE1BQU0sS0FBSyxHQUFMLENBQVMsSUFBVCxPQUFrQixFQUFsQixDQUFWOztBQUVBLFVBQUksT0FBTyxJQUFJLE1BQWYsRUFBdUI7QUFDckIsZUFBTyxlQUFLLFVBQUwsQ0FBZ0IsR0FBaEIsQ0FBUDtBQUNEOztBQUVELGFBQU8sSUFBUDtBQUNEOzs7K0JBRVU7QUFDVCxVQUFJLFdBQVcsRUFBZjs7QUFFQSxXQUFLLEdBQUwsQ0FBUyxRQUFULEdBQW9CLElBQXBCLENBQXlCLFlBQVk7QUFDbkMsaUJBQVMsSUFBVCxDQUFjLGVBQUssVUFBTCxDQUFnQixPQUFPLElBQVAsQ0FBaEIsQ0FBZDtBQUNELE9BRkQ7O0FBSUEsYUFBTyxRQUFQO0FBQ0Q7Ozt3QkFFRyxLLEVBQU87QUFDVCxXQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksVUFBVSxNQUE5QixFQUFzQyxHQUF0QyxFQUEyQztBQUN6QyxhQUFLLEdBQUwsQ0FBUyxNQUFULENBQWdCLEtBQUssYUFBTCxDQUFtQixVQUFVLENBQVYsQ0FBbkIsQ0FBaEI7QUFDRDs7QUFFRCxhQUFPLElBQVA7QUFDRDs7OzJCQUVNLEssRUFBTyxLLEVBQU87QUFDbkIsY0FBUSxRQUFRLENBQWhCOztBQUVBLFVBQUksV0FBVyxLQUFLLEdBQUwsQ0FBUyxRQUFULEVBQWY7O0FBRUEsVUFBSSxDQUFDLFNBQVMsTUFBVixJQUFvQixTQUFTLFNBQVMsTUFBMUMsRUFBa0Q7QUFDaEQsZUFBTyxLQUFLLEdBQUwsZ0NBQVksTUFBTSxTQUFOLENBQWdCLEtBQWhCLENBQXNCLElBQXRCLENBQTJCLFNBQTNCLEVBQXNDLENBQXRDLENBQVosRUFBUDtBQUNEOztBQUVELGNBQVEsTUFBTSxTQUFOLENBQWdCLEtBQWhCLENBQXNCLElBQXRCLENBQTJCLFNBQTNCLEVBQXNDLENBQXRDLENBQVI7O0FBRUEsVUFBSSxJQUFJLENBQVI7QUFDQSxVQUFJLE9BQU8sSUFBWDs7QUFFQSxXQUFLLEdBQUwsQ0FBUyxRQUFULEdBQW9CLElBQXBCLENBQXlCLFlBQVk7QUFDbkMsWUFBSSxVQUFVLENBQWQsRUFBaUI7QUFDZixlQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksTUFBTSxNQUExQixFQUFrQyxHQUFsQyxFQUF1QztBQUNyQyxnQkFBSSxPQUFPLEtBQUssYUFBTCxDQUFtQixNQUFNLENBQU4sQ0FBbkIsQ0FBWDtBQUNBLGlCQUFLLFlBQUwsQ0FBa0IsSUFBbEI7QUFDRDs7QUFFRCxpQkFBTyxLQUFQO0FBQ0Q7O0FBRUQ7QUFDRCxPQVhEOztBQWFBLGFBQU8sSUFBUDtBQUNEOzs7NEJBRU87QUFDTixXQUFLLEdBQUwsQ0FBUyxLQUFUO0FBQ0Q7Ozt3QkE1R1c7QUFDVixhQUFPLENBQUMsS0FBSyxRQUFOLEVBQWdCLEtBQUssUUFBckIsQ0FBUDtBQUNELEs7c0JBRVMsSyxFQUFPO0FBQ2YsVUFBSSxpQkFBaUIsS0FBakIsSUFBMEIsTUFBTSxNQUFOLElBQWdCLENBQTlDLEVBQWlEO0FBQy9DLGFBQUssUUFBTCxHQUFnQixNQUFNLENBQU4sQ0FBaEI7QUFDQSxhQUFLLFFBQUwsR0FBZ0IsTUFBTSxDQUFOLENBQWhCO0FBQ0Q7QUFDRjs7O3dCQUVjO0FBQ2IsYUFBTyxLQUFLLEdBQUwsQ0FBUyxHQUFULENBQWEsWUFBYixDQUFQO0FBQ0QsSztzQkFFWSxLLEVBQU87QUFDbEIsV0FBSyxHQUFMLENBQVMsR0FBVCxDQUFhLFlBQWIsRUFBMkIsS0FBM0I7QUFDRDs7O3dCQUVjO0FBQ2IsVUFBSSxRQUFRLEtBQUssR0FBTCxDQUFTLEdBQVQsQ0FBYSxpQkFBYixDQUFaO0FBQ0EsYUFBTyxRQUFRLEtBQVIsR0FBZ0IsS0FBdkI7QUFDRCxLO3NCQUVZLEssRUFBTztBQUNsQixXQUFLLEdBQUwsQ0FBUyxHQUFULENBQWEsaUJBQWIsRUFBZ0MsS0FBaEM7QUFDRDs7Ozs7O2tCQXFGWSxTOzs7Ozs7Ozs7Ozs7O0FDdkhmOzs7Ozs7Ozs7Ozs7SUFFTSxJOzs7QUFFSixnQkFBWSxLQUFaLEVBQW1CO0FBQUE7O0FBQUEsNkdBQ1IsU0FEUTs7QUFHakIsVUFBSyxPQUFMLEdBQWUsQ0FBZjtBQUhpQjtBQUlsQjs7OztnQ0EwRFc7QUFDVixVQUFJLDJHQUFKO0FBQ0EsVUFBSSxRQUFKLENBQWEsVUFBYjs7QUFFQSxhQUFPLEdBQVA7QUFDRDs7O2tDQUVhLE0sRUFBUTtBQUNwQixVQUFJLGdIQUEwQixNQUExQixDQUFKO0FBQ0EsYUFBTyxHQUFQO0FBQ0Q7Ozt3QkFFRyxLLEVBQU87QUFDVCx1R0FBYSxTQUFiO0FBQ0EsV0FBSyxPQUFMLEdBQWUsS0FBSyxPQUFwQjtBQUNEOzs7MkJBRU0sSyxFQUFPLEssRUFBTztBQUNuQiwwR0FBZ0IsU0FBaEI7QUFDQSxXQUFLLE9BQUwsR0FBZSxLQUFLLE9BQXBCO0FBQ0Q7Ozt3QkE1RWE7QUFDWixhQUFPLEtBQUssUUFBWjtBQUNELEs7c0JBRVcsSyxFQUFPO0FBQ2pCLFdBQUssUUFBTCxHQUFnQixLQUFoQjtBQUNBLFVBQUksUUFBUSxLQUFLLEdBQUwsQ0FBUyxJQUFULENBQWMsT0FBZCxDQUFaOztBQUVBLFlBQU0sR0FBTixDQUFVLGNBQVYsRUFBMEIsUUFBUSxJQUFsQztBQUNBLFlBQU0sSUFBTixHQUFhLEdBQWIsQ0FBaUIsY0FBakIsRUFBaUMsQ0FBakM7QUFDRDs7O3dCQUVjO0FBQ2IsVUFBSSxRQUFRLEtBQUssR0FBTCxDQUFTLEdBQVQsQ0FBYSxpQkFBYixDQUFaOztBQUVBLGNBQVEsS0FBUjtBQUNFLGFBQUssWUFBTDtBQUFtQixpQkFBTyxNQUFQO0FBQ25CLGFBQUssVUFBTDtBQUFpQixpQkFBTyxPQUFQO0FBRm5COztBQUtBLGFBQU8sS0FBUDtBQUNELEs7c0JBRVksSyxFQUFPO0FBQ2xCLGNBQVEsS0FBUjtBQUNFLGFBQUssTUFBTDtBQUNFLGtCQUFRLFlBQVIsQ0FBc0I7QUFDeEIsYUFBSyxPQUFMO0FBQ0Usa0JBQVEsVUFBUixDQUFvQjtBQUp4Qjs7QUFPQSxXQUFLLEdBQUwsQ0FBUyxHQUFULENBQWEsaUJBQWIsRUFBZ0MsS0FBaEM7QUFDRDs7O3dCQUVjO0FBQ2IsVUFBSSxRQUFRLEtBQUssR0FBTCxDQUFTLEdBQVQsQ0FBYSxhQUFiLENBQVo7O0FBRUEsY0FBUSxLQUFSO0FBQ0UsYUFBSyxZQUFMO0FBQW1CLGlCQUFPLEtBQVA7QUFDbkIsYUFBSyxVQUFMO0FBQWlCLGlCQUFPLFFBQVA7QUFGbkI7O0FBS0EsYUFBTyxRQUFRLEtBQVIsR0FBZ0IsS0FBdkI7QUFDRCxLO3NCQUVZLEssRUFBTztBQUNsQixjQUFRLEtBQVI7QUFDRSxhQUFLLEtBQUw7QUFDRSxrQkFBUSxZQUFSLENBQXNCO0FBQ3hCLGFBQUssUUFBTDtBQUNFLGtCQUFRLFVBQVIsQ0FBb0I7QUFKeEI7O0FBT0EsV0FBSyxHQUFMLENBQVMsR0FBVCxDQUFhLGFBQWIsRUFBNEIsS0FBNUI7QUFDRDs7Ozs7O2tCQXlCWSxJOzs7Ozs7Ozs7OztBQ3pGZjs7Ozs7Ozs7Ozs7O0lBRU0sUzs7O0FBRUoscUJBQVksS0FBWixFQUFtQjtBQUFBOztBQUFBOztBQUdqQixVQUFLLFlBQUwsR0FBb0IsSUFBcEI7QUFDQSxVQUFLLFdBQUwsR0FBbUIsUUFBbkI7O0FBRUEsUUFBSSxVQUFVLFNBQWQsRUFBeUI7QUFDdkIsWUFBSyxNQUFMLEdBQWMsS0FBZDtBQUNEO0FBUmdCO0FBU2xCOzs7O2dDQWlFVztBQUNWLFVBQUksTUFBTSxPQUFPLGFBQVAsQ0FBVjtBQUNBLFVBQUksUUFBSixDQUFhLGVBQWI7O0FBRUEsVUFBSSxHQUFKLENBQVE7QUFDTixpQkFBUyxjQURIO0FBRU4sMEJBQWtCLFdBRlo7QUFHTix3QkFBZ0IsV0FIVjtBQUlOLDRCQUFvQjtBQUpkLE9BQVI7QUFNQSxhQUFPLEdBQVA7QUFDRDs7O3dCQTFFWTtBQUNYLFVBQUksU0FBUyxLQUFLLEdBQUwsQ0FBUyxHQUFULENBQWEsa0JBQWIsQ0FBYjs7QUFFQSxVQUFJLE1BQUosRUFBWTtBQUNWLGlCQUFTLHlCQUF5QixJQUF6QixDQUE4QixNQUE5QixDQUFUO0FBQ0EsZUFBTyxTQUFTLE9BQU8sQ0FBUCxDQUFULEdBQXFCLElBQTVCO0FBQ0Q7O0FBRUQsYUFBTyxJQUFQO0FBQ0QsSztzQkFFVSxLLEVBQU87QUFDaEIsV0FBSyxHQUFMLENBQVMsR0FBVCxDQUFhLEVBQUMsK0JBQTRCLEtBQTVCLFFBQUQsRUFBYjs7QUFFQSxVQUFJLEtBQUssV0FBTCxJQUFvQixRQUF4QixFQUFrQztBQUNoQyxhQUFLLEdBQUwsQ0FBUyxJQUFULENBQWMsS0FBZCxFQUFxQixJQUFyQixDQUEwQixLQUExQixFQUFpQyxLQUFqQztBQUNEO0FBQ0Y7Ozt3QkFFYztBQUNiLGFBQU8sS0FBSyxHQUFMLENBQVMsR0FBVCxDQUFhLHFCQUFiLE1BQXdDLFNBQS9DO0FBQ0QsSztzQkFFWSxLLEVBQU87QUFDbEIsV0FBSyxHQUFMLENBQVMsR0FBVCxDQUFhLHFCQUFiLEVBQW9DLFFBQVEsU0FBUixHQUFvQixLQUF4RDtBQUNEOzs7d0JBRWlCO0FBQ2hCLGNBQVEsS0FBSyxHQUFMLENBQVMsR0FBVCxDQUFhLGlCQUFiLENBQVI7QUFDRSxhQUFLLFdBQUw7QUFBa0IsaUJBQU8sUUFBUDtBQUNsQixhQUFLLE9BQUw7QUFBYyxpQkFBTyxTQUFQO0FBQ2QsYUFBSyxTQUFMO0FBQWdCLGlCQUFPLFNBQVA7O0FBRWhCLGFBQUssTUFBTDtBQUNBLGFBQUssV0FBTDtBQUFrQixpQkFBTyxRQUFQOztBQUVsQjtBQUNFLGlCQUFPLEVBQVA7QUFUSjtBQVdELEs7c0JBRWUsSSxFQUFNO0FBQ3BCLFdBQUssR0FBTCxDQUFTLElBQVQsQ0FBYyxLQUFkLEVBQXFCLE1BQXJCOztBQUVBLGNBQVEsS0FBSyxRQUFMLEdBQWdCLFdBQWhCLEVBQVI7QUFDRSxhQUFLLFFBQUw7QUFDRSxlQUFLLEdBQUwsQ0FBUyxHQUFULENBQWEsaUJBQWI7QUFDQTtBQUNGLGFBQUssU0FBTDtBQUNFLGVBQUssR0FBTCxDQUFTLEdBQVQsQ0FBYSxpQkFBYixFQUFnQyxPQUFoQztBQUNBO0FBQ0YsYUFBSyxTQUFMO0FBQ0UsZUFBSyxHQUFMLENBQVMsR0FBVCxDQUFhLGlCQUFiLEVBQWdDLFNBQWhDO0FBQ0E7QUFDRixhQUFLLFFBQUw7QUFDRSxjQUFJLFNBQVMsS0FBSyxNQUFsQjtBQUNBLGVBQUssR0FBTCxDQUFTLEdBQVQsQ0FBYSxpQkFBYixFQUFnQyxXQUFoQztBQUNBLGVBQUssR0FBTCxDQUFTLE1BQVQsQ0FBZ0IsT0FBTyxvQ0FBUCxDQUFoQjtBQUNBLGVBQUssTUFBTCxHQUFjLE1BQWQ7QUFDQTtBQWZKO0FBaUJEOzs7Ozs7a0JBZ0JZLFM7Ozs7Ozs7Ozs7O0FDNUZmOzs7Ozs7Ozs7Ozs7SUFHTSxLOzs7Ozs7Ozs7OztvQ0FFUTtBQUNSLGdCQUFJLE1BQU0sT0FBTyxnRkFBUCxDQUFWO0FBQ0EsbUJBQU8sR0FBUDtBQUNIOzs7Ozs7a0JBR1ksSzs7Ozs7Ozs7Ozs7QUNYZjs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7Ozs7O0lBRU0sTzs7O0FBQ0YsbUJBQVksSUFBWixFQUFrQixPQUFsQixFQUEyQjtBQUFBOztBQUFBOztBQUV2QixVQUFLLFFBQUwsR0FBZ0IsTUFBaEI7QUFDQSxVQUFLLGNBQUwsR0FBc0IsTUFBdEI7QUFDQSxVQUFLLGNBQUwsR0FBc0IsQ0FBdEI7QUFDQSxVQUFLLE9BQUwsR0FBZSxPQUFmO0FBQ0EsVUFBSyxJQUFMLEdBQVksSUFBWjtBQU51QjtBQU8xQjs7Ozt3QkFFVTtBQUNULGFBQU8sZUFBSyxVQUFMLENBQWdCLEtBQUssR0FBckIsQ0FBUDtBQUNELEs7c0JBRVEsSyxFQUFPO0FBQ2QscUJBQUssVUFBTCxDQUFnQixLQUFoQjtBQUNEOzs7d0JBRVU7QUFDVCxjQUFRLEtBQUssUUFBYjtBQUNFLGFBQUssTUFBTDtBQUNFLGlCQUFPLEtBQUssR0FBTCxDQUFTLElBQVQsQ0FBYyx3QkFBZCxFQUF3QyxJQUF4QyxFQUFQO0FBQ0YsYUFBSyxNQUFMO0FBQ0UsaUJBQU8sS0FBSyxHQUFMLENBQVMsSUFBVCxDQUFjLHdCQUFkLEVBQXdDLElBQXhDLEVBQVA7QUFKSjs7QUFPQSxhQUFPLEVBQVA7QUFDRCxLO3NCQUVRLEssRUFBTztBQUNkLGNBQVEsS0FBSyxRQUFiO0FBQ0UsYUFBSyxNQUFMO0FBQ0UsZUFBSyxHQUFMLENBQVMsSUFBVCxDQUFjLHdCQUFkLEVBQXdDLElBQXhDLENBQTZDLEtBQTdDO0FBQ0E7O0FBRUYsYUFBSyxNQUFMO0FBQ0UsZUFBSyxHQUFMLENBQVMsSUFBVCxDQUFjLHdCQUFkLEVBQXdDLElBQXhDLENBQTZDLEtBQTdDO0FBQ0E7QUFQSjtBQVNEOzs7d0JBRWU7QUFDZCxhQUFPLEtBQUssR0FBTCxDQUFTLEdBQVQsQ0FBYSxPQUFiLENBQVA7QUFDRCxLO3NCQUVhLEssRUFBTztBQUNuQixXQUFLLEdBQUwsQ0FBUyxHQUFULENBQWEsT0FBYixFQUFzQixRQUFRLEtBQVIsR0FBZ0IsRUFBdEM7QUFDRDs7O3dCQUVjO0FBQ2IsYUFBTyxLQUFLLFNBQVo7QUFDRCxLO3NCQUVZLEssRUFBTztBQUNsQixVQUFJLE9BQU8sS0FBSyxJQUFoQjtBQUNBLFVBQUksVUFBVSxLQUFLLE9BQW5COztBQUVBLFVBQUksS0FBSixFQUFXO0FBQ1QsYUFBSyxTQUFMLEdBQWlCLE1BQU0sUUFBTixHQUFpQixXQUFqQixFQUFqQjtBQUNELE9BRkQsTUFFTztBQUNMLGFBQUssU0FBTCxHQUFpQixNQUFqQjtBQUNEOztBQUVELFdBQUssSUFBTCxHQUFZLElBQVo7QUFDQSxXQUFLLE9BQUwsR0FBZSxPQUFmO0FBQ0Q7Ozt3QkFFb0I7QUFDbkIsVUFBSSxLQUFLLEdBQUwsQ0FBUyxLQUFULEdBQWlCLFFBQWpCLENBQTBCLFlBQTFCLENBQUosRUFBNkM7QUFDM0MsWUFBSSxLQUFLLEdBQUwsQ0FBUyxRQUFULENBQWtCLHFCQUFsQixDQUFKLEVBQThDO0FBQzVDLGlCQUFPLEtBQVA7QUFDRCxTQUZELE1BRU87QUFDTCxpQkFBTyxNQUFQO0FBQ0Q7QUFDRixPQU5ELE1BTU8sSUFBSSxLQUFLLEdBQUwsQ0FBUyxJQUFULEdBQWdCLFFBQWhCLENBQXlCLFlBQXpCLENBQUosRUFBNEM7QUFDakQsWUFBSSxLQUFLLEdBQUwsQ0FBUyxRQUFULENBQWtCLHFCQUFsQixDQUFKLEVBQThDO0FBQzVDLGlCQUFPLFFBQVA7QUFDRCxTQUZELE1BRU87QUFDTCxpQkFBTyxPQUFQO0FBQ0Q7QUFDRixPQU5NLE1BTUE7QUFDTCxlQUFPLEtBQUssZUFBWjtBQUNEO0FBQ0YsSztzQkFFa0IsSyxFQUFPO0FBQ3hCLFVBQUksVUFBVSxLQUFLLE9BQW5CO0FBQ0EsVUFBSSxhQUFhLEtBQUssY0FBdEI7QUFDQSxXQUFLLGVBQUwsR0FBdUIsS0FBdkI7O0FBRUEsY0FBUSxLQUFSO0FBQ0UsYUFBSyxLQUFMO0FBQ0EsYUFBSyxRQUFMO0FBQ0UsZUFBSyxHQUFMLENBQVMsUUFBVCxDQUFrQixxQkFBbEI7QUFDQTs7QUFFRixhQUFLLE9BQUw7QUFDRSxlQUFLLEdBQUwsQ0FBUyxXQUFULENBQXFCLHFCQUFyQjtBQUNBOztBQUVGLGFBQUssTUFBTDtBQUNBO0FBQ0UsZUFBSyxHQUFMLENBQVMsV0FBVCxDQUFxQixxQkFBckI7QUFDQSxlQUFLLGVBQUwsR0FBdUIsTUFBdkI7QUFDQTtBQWRKOztBQWlCQSxXQUFLLE9BQUwsR0FBZSxPQUFmO0FBQ0EsV0FBSyxjQUFMLEdBQXNCLFVBQXRCO0FBQ0Q7Ozt3QkFFb0I7QUFDbkIsVUFBSSxRQUFRLEtBQUssR0FBTCxDQUFTLElBQVQsQ0FBYyxhQUFkLENBQVo7O0FBRUEsVUFBSSxNQUFNLE1BQVYsRUFBa0I7QUFDaEIsWUFBSSxPQUFPLGNBQVg7O0FBRUEsZ0JBQVEsS0FBSyxjQUFiO0FBQ0UsZUFBSyxRQUFMO0FBQWUsbUJBQU8sWUFBUCxDQUFxQjtBQUNwQyxlQUFLLE9BQUw7QUFBYyxtQkFBTyxhQUFQLENBQXNCO0FBQ3BDLGVBQUssS0FBTDtBQUFZLG1CQUFPLGVBQVAsQ0FBd0I7QUFIdEM7O0FBTUEsZUFBTyxnQkFBTSxJQUFOLENBQVcsTUFBTSxHQUFOLENBQVUsSUFBVixDQUFYLENBQVA7QUFDRCxPQVZELE1BVU87QUFDTCxlQUFPLEtBQUssV0FBWjtBQUNEO0FBQ0YsSztzQkFFa0IsSyxFQUFPO0FBQ3hCLFdBQUssV0FBTCxHQUFtQixLQUFuQjs7QUFFQSxVQUFJLFFBQVEsS0FBSyxHQUFMLENBQVMsSUFBVCxDQUFjLGFBQWQsQ0FBWjs7QUFFQSxVQUFJLE1BQU0sTUFBVixFQUFrQjtBQUNoQixjQUFNLEdBQU4sQ0FBVSxRQUFWLEVBQW9CLENBQXBCOztBQUVBLFlBQUksT0FBTyxjQUFYOztBQUVBLGdCQUFRLEtBQUssY0FBYjtBQUNFLGVBQUssUUFBTDtBQUFlLG1CQUFPLFlBQVAsQ0FBcUI7QUFDcEMsZUFBSyxPQUFMO0FBQWMsbUJBQU8sYUFBUCxDQUFzQjtBQUNwQyxlQUFLLEtBQUw7QUFBWSxtQkFBTyxlQUFQLENBQXdCO0FBSHRDOztBQU1BLGNBQU0sR0FBTixDQUFVLElBQVYsRUFBZ0IsUUFBUSxJQUF4QjtBQUNEO0FBQ0Y7Ozt3QkFFYTtBQUNaLGFBQU8sZUFBSyxVQUFMLENBQWdCLEtBQUssR0FBTCxDQUFTLElBQVQsQ0FBYyxpQkFBZCxFQUFpQyxLQUFqQyxFQUFoQixDQUFQO0FBQ0QsSztzQkFFVyxJLEVBQU07QUFDaEIsVUFBSSxhQUFhLEtBQUssY0FBdEI7QUFDQSxXQUFLLEdBQUwsQ0FBUyxJQUFULENBQWMsYUFBZCxFQUE2QixNQUE3Qjs7QUFFQSxVQUFJLElBQUosRUFBVTtBQUNSLFlBQUksT0FBTyxJQUFQLEtBQWdCLFFBQWhCLElBQTRCLGdCQUFnQixNQUFoRCxFQUF3RDtBQUN0RCxpQkFBTyx3QkFBYyxJQUFkLENBQVA7QUFDRDs7QUFFRCxZQUFJLE1BQU0sT0FBTyw2QkFBUCxFQUFzQyxNQUF0QyxDQUE2QyxLQUFLLEdBQWxELENBQVY7O0FBRUEsZ0JBQVEsS0FBSyxjQUFiO0FBQ0UsZUFBSyxLQUFMO0FBQ0EsZUFBSyxNQUFMO0FBQ0UsaUJBQUssR0FBTCxDQUFTLE9BQVQsQ0FBaUIsR0FBakI7QUFDQTtBQUNGLGVBQUssUUFBTDtBQUNBLGVBQUssT0FBTDtBQUNFLGlCQUFLLEdBQUwsQ0FBUyxNQUFULENBQWdCLEdBQWhCO0FBQ0E7QUFSSjs7QUFXQSxhQUFLLGNBQUwsR0FBc0IsVUFBdEI7QUFDRDtBQUNGOzs7Ozs7a0JBR1UsTzs7Ozs7Ozs7Ozs7QUN6TGY7Ozs7Ozs7O0FBRUE7OztJQUdNLEk7QUFDRixrQkFBWSxHQUFaLEVBQWlCO0FBQUE7O0FBQ2IsWUFBSSxRQUFRLFNBQVosRUFBdUI7QUFDbkIsaUJBQUssR0FBTCxHQUFXLEtBQUssU0FBTCxFQUFYOztBQUVBLGdCQUFJLEVBQUUsS0FBSyxHQUFMLFlBQW9CLE1BQXRCLENBQUosRUFBbUM7QUFDL0Isc0JBQU0sSUFBSSxLQUFKLENBQVUsNkRBQVYsQ0FBTjtBQUNIO0FBQ0osU0FORCxNQU1PO0FBQ0gsZ0JBQUksZUFBZSxNQUFuQixFQUEyQjtBQUN2QixxQkFBSyxHQUFMLEdBQVcsR0FBWDtBQUNILGFBRkQsTUFFTztBQUNILHNCQUFNLElBQUksS0FBSixDQUFVLDBEQUFWLENBQU47QUFDSDtBQUNKOztBQUVELGFBQUssR0FBTCxDQUFTLElBQVQsQ0FBYyxXQUFkLEVBQTJCLElBQTNCO0FBQ0g7Ozs7b0NBNkhXO0FBQ1Isa0JBQU0sSUFBSSxLQUFKLENBQVUseUNBQVYsQ0FBTjtBQUNIOzs7dUNBRWM7QUFDYixpQkFBSyxLQUFMO0FBQ0Q7OztpQ0FFUSxDLEVBQUcsQyxFQUFHO0FBQ2IsaUJBQUssUUFBTCxHQUFnQixDQUFDLENBQUQsRUFBSSxDQUFKLENBQWhCO0FBQ0Q7OzsrQkFFTSxLLEVBQU8sTSxFQUFRO0FBQ3BCLGlCQUFLLElBQUwsR0FBWSxDQUFDLEtBQUQsRUFBUSxNQUFSLENBQVo7QUFDRDs7O2dDQUVPO0FBQ04saUJBQUssR0FBTCxDQUFTLEtBQVQ7QUFDRDs7OzRCQUVHLEssRUFBTztBQUFBOztBQUNULG1CQUFPLGFBQUssR0FBTCxFQUFTLEdBQVQsYUFBZ0IsU0FBaEIsQ0FBUDtBQUNEOzs7NkJBRUksTSxFQUFRO0FBQ1gsZ0JBQUksVUFBVSxNQUFWLEtBQXFCLENBQXpCLEVBQTRCO0FBQUE7O0FBQzFCLHVCQUFPLGNBQUssR0FBTCxFQUFTLElBQVQsY0FBaUIsU0FBakIsQ0FBUDtBQUNELGFBRkQsTUFFTztBQUFBOztBQUNMLDhCQUFLLEdBQUwsRUFBUyxJQUFULGNBQWlCLFNBQWpCO0FBQ0EsdUJBQU8sSUFBUDtBQUNEO0FBQ0Y7OzsrQkFFTSxRLEVBQVU7QUFDZixnQkFBSSxNQUFNLEtBQUssR0FBTCxDQUFTLElBQVQsQ0FBYyxRQUFkLEVBQXdCLEtBQXhCLEVBQVY7O0FBRUEsZ0JBQUksR0FBSixFQUFTO0FBQ1AsdUJBQU8sS0FBSyxVQUFMLENBQWdCLEdBQWhCLENBQVA7QUFDRDs7QUFFRCxtQkFBTyxJQUFQO0FBQ0Q7OztrQ0FFUyxRLEVBQVU7QUFBQTs7QUFDbEIsZ0JBQUksUUFBUSxFQUFaOztBQUVBLGlCQUFLLEdBQUwsQ0FBUyxJQUFULENBQWMsUUFBZCxFQUF3QixJQUF4QixDQUE2QixZQUFNO0FBQ2pDLHNCQUFNLElBQU4sQ0FBVyxLQUFLLFVBQUwsT0FBWDtBQUNELGFBRkQ7O0FBSUEsbUJBQU8sS0FBUDtBQUNEOzs7a0NBRVM7QUFDUixnQkFBSSxTQUFTLEtBQUssTUFBbEI7O0FBRUEsZ0JBQUksTUFBSixFQUFZO0FBQ1Ysb0JBQUksT0FBTyxjQUFQLENBQUosRUFBNEI7QUFDMUIsMkJBQU8sWUFBUCxDQUFvQixJQUFwQjtBQUNEO0FBQ0Y7QUFDRjs7O2lDQUVRO0FBQ1AsZ0JBQUksU0FBUyxLQUFLLE1BQWxCOztBQUVBLGdCQUFJLE1BQUosRUFBWTtBQUNWLG9CQUFJLE9BQU8sYUFBUCxDQUFKLEVBQTJCO0FBQ3pCLDJCQUFPLFdBQVAsQ0FBbUIsSUFBbkI7QUFDRDtBQUNGO0FBQ0Y7OzsrQkFFTTtBQUNMLGdCQUFJLGFBQWEsS0FBSyxHQUFMLENBQVMsSUFBVCxDQUFjLGVBQWQsQ0FBakI7O0FBRUEsZ0JBQUksVUFBSixFQUFnQjtBQUNkLDJCQUFXLEdBQVgsQ0FBZSxNQUFmO0FBQ0QsYUFGRCxNQUVPO0FBQ0wscUJBQUssR0FBTCxDQUFTLE1BQVQ7QUFDRDs7QUFFRCxtQkFBTyxJQUFQO0FBQ0Q7OzsrQkFFTTtBQUNMLGlCQUFLLEdBQUwsQ0FBUyxJQUFUO0FBQ0EsbUJBQU8sSUFBUDtBQUNEOzs7K0JBRU07QUFDTCxpQkFBSyxHQUFMLENBQVMsSUFBVDtBQUNBLG1CQUFPLElBQVA7QUFDRDs7O2lDQUVRO0FBQ1AsaUJBQUssR0FBTCxDQUFTLE1BQVQ7QUFDQSxtQkFBTyxJQUFQO0FBQ0Q7OzsyQkFFRSxLLEVBQU8sUSxFQUFVO0FBQUE7O0FBQ2xCLGlCQUFLLEdBQUwsQ0FBUyxFQUFULENBQVksS0FBWixFQUFtQixVQUFDLEtBQUQsRUFBVztBQUM1QixzQkFBTSxNQUFOO0FBQ0EseUJBQVMsSUFBVCxTQUFvQixLQUFwQjtBQUNELGFBSEQ7O0FBS0EsbUJBQU8sSUFBUDtBQUNEOzs7NkJBRUksUSxFQUFVLENBRWQ7Ozs0QkFFRyxLLEVBQU87QUFDVCxpQkFBSyxHQUFMLENBQVMsR0FBVCxDQUFhLEtBQWI7QUFDQSxtQkFBTyxJQUFQO0FBQ0Q7OztnQ0FFTyxLLEVBQU8sTSxFQUFRO0FBQ3JCLG1CQUFPLEtBQUssR0FBTCxDQUFTLE9BQVQsQ0FBaUIsS0FBakIsRUFBd0IsTUFBeEIsQ0FBUDtBQUNEOzs7OEJBRUssRSxFQUFJO0FBQ1IsbUJBQU8sSUFBUDtBQUNEOzs7NkJBRUksTSxFQUFRLFUsRUFBWTtBQUN2QixpQkFBSyxJQUFJLElBQVQsSUFBaUIsTUFBakIsRUFBeUI7QUFDdkIsb0JBQUksT0FBTyxjQUFQLENBQXNCLElBQXRCLENBQUosRUFBaUM7QUFDL0Isd0JBQUksS0FBSyxDQUFMLEtBQVcsR0FBZixFQUFvQjtBQUNsQjtBQUNEOztBQUVELHdCQUFNLFFBQVEsT0FBTyxJQUFQLENBQWQ7O0FBRUEsNEJBQVEsSUFBUjtBQUNFLDZCQUFLLElBQUw7QUFDRSxnQ0FBSSxVQUFKLEVBQWdCO0FBQ2QscUNBQUssSUFBSSxLQUFULElBQWtCLEtBQWxCLEVBQXlCOztBQUV2Qix3Q0FBSSxNQUFNLGNBQU4sQ0FBcUIsS0FBckIsQ0FBSixFQUFpQztBQUMvQiw0Q0FBTSxVQUFVLE1BQU0sS0FBTixDQUFoQjtBQUNBLDRDQUFJLE9BQU8sV0FBVyxPQUFYLENBQVAsS0FBK0IsVUFBbkMsRUFBK0M7QUFDN0MsaURBQUssRUFBTCxDQUFRLEtBQVIsRUFBZSxXQUFXLE9BQVgsRUFBb0IsSUFBcEIsQ0FBeUIsVUFBekIsQ0FBZjtBQUNEO0FBQ0Y7QUFDRjtBQUNGO0FBQ0Q7O0FBRUY7QUFDRSxpQ0FBSyxJQUFMLElBQWEsS0FBYjtBQUNBO0FBakJKO0FBbUJEO0FBQ0Y7QUFDRjs7OzRCQXZSUTtBQUFFLG1CQUFPLEtBQUssR0FBTCxDQUFTLElBQVQsQ0FBYyxJQUFkLENBQVA7QUFBNEIsUzswQkFDaEMsSyxFQUFPO0FBQUUsaUJBQUssR0FBTCxDQUFTLElBQVQsQ0FBYyxJQUFkLEVBQW9CLEtBQXBCO0FBQTRCOzs7NEJBRTlCO0FBQ1osbUJBQU8sS0FBSyxHQUFMLENBQVMsRUFBVCxDQUFZLFVBQVosQ0FBUDtBQUNELFM7MEJBRVcsSyxFQUFPO0FBQ2pCLGdCQUFJLEtBQUosRUFBVztBQUNULHFCQUFLLEdBQUwsQ0FBUyxJQUFUO0FBQ0QsYUFGRCxNQUVPO0FBQ0wscUJBQUssR0FBTCxDQUFTLElBQVQ7QUFDRDtBQUNGOzs7NEJBRWE7QUFDWixtQkFBTyxDQUFDLEtBQUssR0FBTCxDQUFTLElBQVQsQ0FBYyxVQUFkLENBQVI7QUFDRCxTOzBCQUVXLEssRUFBTztBQUNqQixpQkFBSyxHQUFMLENBQVMsSUFBVCxDQUFjLFVBQWQsRUFBMEIsQ0FBQyxLQUEzQjtBQUNEOzs7NEJBRWE7QUFDWixtQkFBTyxLQUFLLEdBQUwsQ0FBUyxFQUFULENBQVksUUFBWixDQUFQO0FBQ0Q7Ozs0QkFFVztBQUFFLG1CQUFPLEtBQUssR0FBTCxDQUFTLElBQVQsQ0FBYyxPQUFkLENBQVA7QUFBK0IsUzswQkFDbkMsSyxFQUFPO0FBQUUsaUJBQUssR0FBTCxDQUFTLElBQVQsQ0FBYyxPQUFkLEVBQXVCLEtBQXZCO0FBQStCOzs7NEJBRTFDO0FBQUUsbUJBQU8sS0FBSyxHQUFMLENBQVMsUUFBVCxHQUFvQixJQUEzQjtBQUFrQyxTOzBCQUN0QyxLLEVBQU87QUFBRSxpQkFBSyxHQUFMLENBQVMsR0FBVCxDQUFhLEVBQUMsTUFBTSxLQUFQLEVBQWI7QUFBOEI7Ozs0QkFFckM7QUFBRSxtQkFBTyxLQUFLLEdBQUwsQ0FBUyxRQUFULEdBQW9CLEdBQTNCO0FBQWlDLFM7MEJBQ3JDLEssRUFBTztBQUNULGlCQUFLLEdBQUwsQ0FBUyxHQUFULENBQWEsRUFBQyxLQUFLLEtBQU4sRUFBYjtBQUNIOzs7NEJBRWM7QUFBRSxtQkFBTyxDQUFDLEtBQUssQ0FBTixFQUFTLEtBQUssQ0FBZCxDQUFQO0FBQTBCLFM7MEJBQzlCLEssRUFBTztBQUNoQixnQkFBSSxpQkFBaUIsS0FBakIsSUFBMEIsTUFBTSxNQUFOLElBQWdCLENBQTlDLEVBQWlEO0FBQzdDLHFCQUFLLENBQUwsR0FBUyxNQUFNLENBQU4sQ0FBVDtBQUNBLHFCQUFLLENBQUwsR0FBUyxNQUFNLENBQU4sQ0FBVDtBQUNIO0FBQ0o7Ozs0QkFFVztBQUFFLG1CQUFPLEtBQUssR0FBTCxDQUFTLEtBQVQsRUFBUDtBQUF5QixTOzBCQUM3QixLLEVBQU87QUFBRSxpQkFBSyxHQUFMLENBQVMsS0FBVCxDQUFlLEtBQWY7QUFBdUI7Ozs0QkFFN0I7QUFBRSxtQkFBTyxLQUFLLEdBQUwsQ0FBUyxNQUFULEVBQVA7QUFBMEIsUzswQkFDOUIsSyxFQUFPO0FBQUUsaUJBQUssR0FBTCxDQUFTLE1BQVQsQ0FBZ0IsS0FBaEI7QUFBd0I7Ozs0QkFFakM7QUFBRSxtQkFBTyxDQUFDLEtBQUssS0FBTixFQUFhLEtBQUssTUFBbEIsQ0FBUDtBQUFrQyxTOzBCQUN0QyxLLEVBQU87QUFDWixnQkFBSSxpQkFBaUIsS0FBakIsSUFBMEIsTUFBTSxNQUFOLElBQWdCLENBQTlDLEVBQWlEO0FBQzdDLHFCQUFLLEtBQUwsR0FBYSxNQUFNLENBQU4sQ0FBYjtBQUNBLHFCQUFLLE1BQUwsR0FBYyxNQUFNLENBQU4sQ0FBZDtBQUNIO0FBQ0o7Ozs0QkFFYTtBQUNaLG1CQUFPLENBQ0gsZ0JBQU0sSUFBTixDQUFXLEtBQUssR0FBTCxDQUFTLEdBQVQsQ0FBYSxhQUFiLENBQVgsQ0FERyxFQUVILGdCQUFNLElBQU4sQ0FBVyxLQUFLLEdBQUwsQ0FBUyxHQUFULENBQWEsZUFBYixDQUFYLENBRkcsRUFHSCxnQkFBTSxJQUFOLENBQVcsS0FBSyxHQUFMLENBQVMsR0FBVCxDQUFhLGdCQUFiLENBQVgsQ0FIRyxFQUlILGdCQUFNLElBQU4sQ0FBVyxLQUFLLEdBQUwsQ0FBUyxHQUFULENBQWEsY0FBYixDQUFYLENBSkcsQ0FBUDtBQU1ELFM7MEJBRVcsSyxFQUFPO0FBQ2pCLGdCQUFJLGlCQUFpQixLQUFyQixFQUE0QjtBQUN4QixvQkFBSSxNQUFNLE1BQU4sSUFBZ0IsQ0FBcEIsRUFBdUI7QUFDckIseUJBQUssR0FBTCxDQUFTLEdBQVQsQ0FBYTtBQUNYLHVDQUFlLE1BQU0sQ0FBTixDQURKLEVBQ2MsaUJBQWlCLE1BQU0sQ0FBTixDQUQvQjtBQUVYLDBDQUFrQixNQUFNLENBQU4sQ0FGUCxFQUVpQixnQkFBZ0IsTUFBTSxDQUFOO0FBRmpDLHFCQUFiO0FBSUQsaUJBTEQsTUFLTyxJQUFJLE1BQU0sTUFBTixJQUFnQixDQUFwQixFQUF1QjtBQUM1Qix5QkFBSyxHQUFMLENBQVMsR0FBVCxDQUFhO0FBQ1gsdUNBQWUsTUFBTSxDQUFOLENBREosRUFDYyxpQkFBaUIsTUFBTSxDQUFOLENBRC9CO0FBRVgsMENBQWtCLE1BQU0sQ0FBTixDQUZQLEVBRWlCLGdCQUFnQixNQUFNLENBQU47QUFGakMscUJBQWI7QUFJRCxpQkFMTSxNQUtBLElBQUksTUFBTSxNQUFOLElBQWdCLENBQXBCLEVBQXVCO0FBQzVCLHlCQUFLLEdBQUwsQ0FBUyxHQUFULENBQWEsU0FBYixFQUF3QixNQUFNLENBQU4sQ0FBeEI7QUFDRCxpQkFGTSxNQUVBO0FBQ0wseUJBQUssR0FBTCxDQUFTLEdBQVQsQ0FBYSxTQUFiLEVBQXdCLENBQXhCO0FBQ0Q7QUFDSixhQWhCRCxNQWdCTztBQUNILHFCQUFLLEdBQUwsQ0FBUyxHQUFULENBQWEsU0FBYixFQUF3QixLQUF4QjtBQUNIO0FBQ0Y7Ozs0QkFFWTtBQUNYLGdCQUFJLFNBQVMsSUFBYjs7QUFFQSxnQkFBSSxLQUFLLEdBQUwsQ0FBUyxJQUFULENBQWMsZUFBZCxDQUFKLEVBQW9DO0FBQ2xDLHlCQUFTLEtBQUssR0FBTCxDQUFTLElBQVQsQ0FBYyxlQUFkLEVBQStCLE1BQS9CLEVBQVQ7QUFDRCxhQUZELE1BRU87QUFDTCx5QkFBUyxLQUFLLEdBQUwsQ0FBUyxNQUFULEVBQVQ7QUFDRDs7QUFFRCxnQkFBSSxDQUFDLE1BQUwsRUFBYTtBQUNYLHVCQUFPLElBQVA7QUFDRDs7QUFFRCxtQkFBTyxLQUFLLFVBQUwsQ0FBZ0IsTUFBaEIsQ0FBUDtBQUNEOzs7NEJBRWM7QUFDYixtQkFBTyxLQUFLLEdBQUwsQ0FBUyxJQUFULENBQWMsYUFBZCxDQUFQO0FBQ0QsUzswQkFFWSxLLEVBQU87QUFDbEIsaUJBQUssR0FBTCxDQUFTLElBQVQsQ0FBYyxhQUFkLEVBQTZCLEtBQTdCO0FBQ0Q7Ozs0QkFFZ0I7QUFDZixtQkFBTyxLQUFLLFdBQVo7QUFDRCxTOzBCQUVjLE0sRUFBUTtBQUNyQixpQkFBSyxXQUFMLEdBQW1CLE1BQW5CO0FBQ0Q7OzttQ0FnS2lCLFksRUFBYztBQUM1QixnQkFBSSxpQkFBaUIsSUFBakIsSUFBeUIsYUFBYSxNQUFiLEtBQXdCLENBQXJELEVBQXdEO0FBQ3BELHVCQUFPLElBQVA7QUFDSDs7QUFFRCxnQkFBSSx3QkFBd0IsTUFBNUIsRUFBb0M7QUFDaEMsb0JBQUksVUFBVyxhQUFhLElBQWIsQ0FBa0IsV0FBbEIsQ0FBZjtBQUNBLHVCQUFPLFVBQVUsT0FBVixHQUFvQixJQUFJLElBQUosQ0FBUyxZQUFULENBQTNCO0FBQ0g7O0FBRUQsa0JBQU0sSUFBSSxLQUFKLENBQVUsd0RBQVYsQ0FBTjtBQUNIOzs7Ozs7a0JBR1UsSTs7Ozs7Ozs7Ozs7QUMvVGY7Ozs7QUFDQTs7Ozs7Ozs7SUFFTSxJO0FBQ0osZ0JBQVksVUFBWixFQUF3QjtBQUFBOztBQUN0QixTQUFLLFFBQUwsR0FBZ0Isd0JBQWhCO0FBQ0EsU0FBSyxFQUFMLEdBQVUsRUFBVjtBQUNBLFNBQUssUUFBTCxHQUFnQixJQUFoQjs7QUFFQSxTQUFLLElBQUwsQ0FBVSxVQUFWO0FBQ0Q7Ozs7NEJBTU8sRSxFQUFJLE8sRUFBUztBQUFBOztBQUNuQixVQUFJLEtBQUssTUFBVCxFQUFpQjtBQUNmLGFBQUssTUFBTCxDQUFZLEVBQVosSUFBa0IsT0FBbEI7QUFDRCxPQUZELE1BRU87QUFDTCxhQUFLLE1BQUwsR0FBYyxFQUFkO0FBQ0EsYUFBSyxNQUFMLENBQVksRUFBWixJQUFrQixPQUFsQjtBQUNEOztBQUVELFVBQUksS0FBSyxRQUFULEVBQW1CO0FBQ2pCLFlBQUksTUFBTSxLQUFLLFFBQUwsQ0FBYyxLQUFkLENBQW9CLEVBQXBCLENBQVY7O0FBRUEsWUFBSSxHQUFKLEVBQVM7QUFDUCxlQUFLLElBQUksS0FBVCxJQUFrQixPQUFsQixFQUEyQjtBQUN6QixnQkFBSSxRQUFRLGNBQVIsQ0FBdUIsS0FBdkIsQ0FBSixFQUFtQztBQUNqQyxrQkFBSSxFQUFKLENBQU8sS0FBUCxFQUFjLFVBQUMsQ0FBRCxFQUFPO0FBQ25CLHdCQUFRLEtBQVIsRUFBZSxJQUFmLFFBQTBCLENBQTFCO0FBQ0QsZUFGRDtBQUdEO0FBQ0Y7QUFDRixTQVJELE1BUU87QUFDTCxrQkFBUSxJQUFSLGNBQXVCLEVBQXZCO0FBQ0Q7QUFDRjtBQUNGOzs7eUJBRUksUSxFQUFVO0FBQ2IsV0FBSyxNQUFMLEdBQWMsUUFBZDs7QUFFQSxVQUFJLEtBQUssUUFBVCxFQUFtQjtBQUNqQixhQUFLLElBQUksRUFBVCxJQUFlLFFBQWYsRUFBeUI7QUFDdkIsY0FBSSxTQUFTLGNBQVQsQ0FBd0IsRUFBeEIsQ0FBSixFQUFpQztBQUMvQixpQkFBSyxPQUFMLENBQWEsRUFBYixFQUFpQixTQUFTLEVBQVQsQ0FBakI7QUFDRDtBQUNGO0FBQ0Y7QUFDRjs7O3lCQUVJLFUsRUFBWTtBQUFBOztBQUNmLFVBQUksc0JBQXNCLE1BQXRCLElBQWdDLE9BQU8sVUFBUCxLQUFzQixRQUExRCxFQUFvRTtBQUNsRSxhQUFLLFFBQUwsQ0FBYyxXQUFkLENBQTBCLFVBQTFCLEVBQXNDLFVBQUMsSUFBRCxFQUFVO0FBQzVDLGlCQUFLLFFBQUwsR0FBZ0IsSUFBaEI7QUFDQSxpQkFBSyxTQUFMO0FBQ0gsU0FIRCxFQUdHLElBSEg7QUFJRCxPQUxELE1BS087QUFDTCxhQUFLLFFBQUwsR0FBZ0IsS0FBSyxRQUFMLENBQWMsSUFBZCxDQUFtQixVQUFuQixFQUErQixJQUEvQixDQUFoQjtBQUNBLGFBQUssU0FBTDtBQUNEO0FBQ0Y7OztnQ0FFVztBQUNWLFVBQUksS0FBSyxNQUFULEVBQWlCO0FBQ2YsYUFBSyxJQUFMLENBQVUsS0FBSyxNQUFmO0FBQ0Q7O0FBRUQsV0FBSyxVQUFMOztBQUVBLFVBQUksS0FBSyxJQUFULEVBQWU7QUFDYixhQUFLLElBQUwsQ0FBVSxPQUFWLEdBQW9CLEtBQUssUUFBekI7QUFDRDtBQUNGOzs7aUNBRVk7QUFDWCxXQUFLLEVBQUwsR0FBVSxFQUFWOztBQUVBLFVBQUksT0FBTyxJQUFYOztBQUVBLFVBQU0sVUFBVSxTQUFWLE9BQVUsQ0FBVSxJQUFWLEVBQWdCO0FBQzlCLFlBQUksbUNBQUosRUFBK0I7QUFDN0IsY0FBSSxXQUFXLEtBQUssUUFBTCxFQUFmOztBQUVBLGVBQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxTQUFTLE1BQTdCLEVBQXFDLEdBQXJDLEVBQTBDO0FBQ3hDLGdCQUFJLFFBQVEsU0FBUyxDQUFULENBQVo7O0FBRUEsZ0JBQUksS0FBSixFQUFXO0FBQ1Qsa0JBQUksS0FBSyxNQUFNLEVBQWY7O0FBRUEsa0JBQUksTUFBTSxDQUFDLEtBQUssRUFBTCxDQUFRLEVBQVIsQ0FBWCxFQUF3QjtBQUN0QixxQkFBSyxFQUFMLENBQVEsRUFBUixJQUFjLEtBQWQ7QUFDQSx3QkFBUSxLQUFSO0FBQ0Q7QUFDRjtBQUNGO0FBQ0Y7QUFDRixPQWpCRDs7QUFtQkEsY0FBUSxLQUFLLFFBQWI7O0FBRUEsVUFBSSxLQUFLLElBQVQsRUFBZTtBQUNiLGVBQU8sRUFBUCxHQUFZLEtBQUssRUFBakI7QUFDRDtBQUNGOzs7OEJBRVMsRyxFQUFLO0FBQ2IsV0FBSyxJQUFMLEdBQVksR0FBWjs7QUFFQSxVQUFJLEtBQUssUUFBVCxFQUFtQjtBQUNqQixZQUFJLE9BQUosR0FBYyxLQUFLLFFBQW5CO0FBQ0EsZUFBTyxFQUFQLEdBQVksS0FBSyxFQUFqQjtBQUNEO0FBQ0Y7Ozt3QkF2R2E7QUFDWixhQUFPLEtBQUssUUFBWjtBQUNEOzs7Ozs7a0JBd0dZLEk7Ozs7Ozs7Ozs7O0FDdEhmOzs7Ozs7Ozs7Ozs7SUFFTSxROzs7Ozs7Ozs7OztnQ0FDUTtBQUNWLFVBQUksTUFBTSxPQUFPLHNFQUFQLENBQVY7QUFDQSxhQUFPLEdBQVA7QUFDRDs7Ozs7O2tCQUdZLFE7Ozs7Ozs7Ozs7O0FDVGY7Ozs7Ozs7Ozs7OztJQUVNLFM7Ozs7Ozs7Ozs7O2dDQUNRO0FBQ1YsVUFBSSxNQUFNLE9BQU8sZ0ZBQVAsQ0FBVjtBQUNBLGFBQU8sR0FBUDtBQUNEOzs7Ozs7a0JBR1ksUzs7Ozs7Ozs7Ozs7QUNUZjs7Ozs7Ozs7Ozs7O0lBRU0sZ0I7Ozs7Ozs7Ozs7O3dCQUVXO0FBQ2IsYUFBTyxDQUFDLEtBQUssR0FBTCxDQUFTLElBQVQsQ0FBYyxVQUFkLENBQVI7QUFDRCxLO3NCQUVZLEssRUFBTztBQUNsQixXQUFLLEdBQUwsQ0FBUyxJQUFULENBQWMsVUFBZCxFQUEwQixDQUFDLEtBQTNCO0FBQ0Q7Ozt3QkFFZTtBQUNkLGFBQU8sS0FBSyxHQUFMLENBQVMsR0FBVCxDQUFhLFlBQWIsQ0FBUDtBQUNELEs7c0JBRWEsSyxFQUFPO0FBQ25CLFdBQUssR0FBTCxDQUFTLEdBQVQsQ0FBYSxZQUFiLEVBQTJCLEtBQTNCO0FBQ0Q7Ozt3QkFFVTtBQUNULGFBQU8sS0FBSyxVQUFMLENBQWdCLEtBQUssR0FBckIsQ0FBUDtBQUNELEs7c0JBRVEsSyxFQUFPO0FBQ2QsV0FBSyxVQUFMLENBQWdCLEtBQWhCO0FBQ0Q7Ozt3QkFFVTtBQUNULGFBQU8sS0FBSyxHQUFMLENBQVMsR0FBVCxFQUFQO0FBQ0QsSztzQkFFUSxLLEVBQU87QUFDZCxXQUFLLEdBQUwsQ0FBUyxHQUFULENBQWEsS0FBYjtBQUNEOzs7Ozs7a0JBR1ksZ0I7Ozs7Ozs7Ozs7Ozs7QUNyQ2Y7Ozs7Ozs7Ozs7OztJQUVNLFk7Ozs7Ozs7Ozs7O2dDQUNRO0FBQ1YsVUFBSSwySEFBSjtBQUNBLFVBQUksUUFBSixDQUFhLGtCQUFiO0FBQ0EsVUFBSSxJQUFKLENBQVMsYUFBVCxFQUF3QixRQUF4QjtBQUNBLGFBQU8sR0FBUDtBQUNEOzs7aUNBZ0JZLEcsRUFBSztBQUFBOztBQUNoQixVQUFJLEVBQUosQ0FBTyxPQUFQLEVBQWdCLFlBQU07QUFDcEIsZUFBSyxRQUFMLEdBQWdCLENBQUMsT0FBSyxRQUF0QjtBQUNELE9BRkQ7QUFHRDs7O3dCQWxCYztBQUNiLGFBQU8sS0FBSyxHQUFMLENBQVMsUUFBVCxDQUFrQixRQUFsQixDQUFQO0FBQ0QsSztzQkFFWSxLLEVBQU87QUFDbEIsVUFBSSxLQUFKLEVBQVc7QUFDVCxhQUFLLEdBQUwsQ0FBUyxRQUFULENBQWtCLFFBQWxCO0FBQ0EsYUFBSyxHQUFMLENBQVMsSUFBVCxDQUFjLGNBQWQsRUFBOEIsSUFBOUI7QUFDRCxPQUhELE1BR087QUFDTCxhQUFLLEdBQUwsQ0FBUyxXQUFULENBQXFCLFFBQXJCO0FBQ0EsYUFBSyxHQUFMLENBQVMsSUFBVCxDQUFjLGNBQWQsRUFBOEIsS0FBOUI7QUFDRDtBQUNGOzs7Ozs7a0JBU1ksWTs7Ozs7Ozs7O0FDL0JmOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUdBOzs7O0FBQ0E7Ozs7OztrQkFFZTtBQUNiLHNCQURhO0FBRWIsc0JBRmE7QUFHYixnQ0FIYTtBQUliLDBCQUphLEVBSUwsb0NBSks7QUFLYiw0QkFMYTtBQU1iLHdCQU5hLEVBTU4sNEJBTk07QUFPYiw4Q0FQYSxFQU9LLDhCQVBMLEVBT2dCLDRCQVBoQjtBQVFiLGdDQVJhLEVBUUYsb0JBUkUsRUFRSSxvQkFSSixFQVFVLGdDQVJWOztBQVViO0FBVmEsQzs7Ozs7Ozs7Ozs7OztBQ3BCZjs7Ozs7Ozs7Ozs7O0lBRU0sSTs7O0FBRUosZ0JBQVksS0FBWixFQUFtQjtBQUFBOztBQUFBLDZHQUNSLFNBRFE7O0FBR2pCLFVBQUssT0FBTCxHQUFlLENBQWY7QUFIaUI7QUFJbEI7Ozs7Z0NBMkRXO0FBQ1YsVUFBSSwyR0FBSjtBQUNBLFVBQUksUUFBSixDQUFhLFVBQWI7O0FBRUEsYUFBTyxHQUFQO0FBQ0Q7OztrQ0FFYSxNLEVBQVE7QUFDcEIsVUFBSSxnSEFBMEIsTUFBMUIsQ0FBSjtBQUNBLGFBQU8sR0FBUDtBQUNEOzs7d0JBbkVhO0FBQ1osYUFBTyxLQUFLLFFBQVo7QUFDRCxLO3NCQUVXLEssRUFBTztBQUNqQixXQUFLLFFBQUwsR0FBZ0IsS0FBaEI7QUFDQSxVQUFJLFFBQVEsS0FBSyxHQUFMLENBQVMsSUFBVCxDQUFjLE9BQWQsQ0FBWjs7QUFFQSxZQUFNLEdBQU4sQ0FBVSxlQUFWLEVBQTJCLFFBQVEsSUFBbkM7QUFDQSxZQUFNLElBQU4sR0FBYSxHQUFiLENBQWlCLGVBQWpCLEVBQWtDLENBQWxDO0FBQ0Q7Ozt3QkFHZ0I7QUFDYixVQUFJLFFBQVEsS0FBSyxHQUFMLENBQVMsR0FBVCxDQUFhLGFBQWIsQ0FBWjs7QUFFQSxjQUFRLEtBQVI7QUFDRSxhQUFLLFlBQUw7QUFBbUIsaUJBQU8sTUFBUDtBQUNuQixhQUFLLFVBQUw7QUFBaUIsaUJBQU8sT0FBUDtBQUZuQjs7QUFLQSxhQUFPLEtBQVA7QUFDRCxLO3NCQUVZLEssRUFBTztBQUNsQixjQUFRLEtBQVI7QUFDRSxhQUFLLE1BQUw7QUFDRSxrQkFBUSxZQUFSLENBQXNCO0FBQ3hCLGFBQUssT0FBTDtBQUNFLGtCQUFRLFVBQVIsQ0FBb0I7QUFKeEI7O0FBT0EsV0FBSyxHQUFMLENBQVMsR0FBVCxDQUFhLGFBQWIsRUFBNEIsS0FBNUI7QUFDRDs7O3dCQUVjO0FBQ2IsVUFBSSxRQUFRLEtBQUssR0FBTCxDQUFTLEdBQVQsQ0FBYSxpQkFBYixDQUFaOztBQUVBLGNBQVEsS0FBUjtBQUNFLGFBQUssWUFBTDtBQUFtQixpQkFBTyxLQUFQO0FBQ25CLGFBQUssVUFBTDtBQUFpQixpQkFBTyxRQUFQO0FBRm5COztBQUtBLGFBQU8sUUFBUSxLQUFSLEdBQWdCLEtBQXZCO0FBQ0QsSztzQkFFWSxLLEVBQU87QUFDbEIsY0FBUSxLQUFSO0FBQ0UsYUFBSyxLQUFMO0FBQ0Usa0JBQVEsWUFBUixDQUFzQjtBQUN4QixhQUFLLFFBQUw7QUFDRSxrQkFBUSxVQUFSLENBQW9CO0FBSnhCOztBQU9BLFdBQUssR0FBTCxDQUFTLEdBQVQsQ0FBYSxpQkFBYixFQUFnQyxLQUFoQztBQUNEOzs7Ozs7a0JBZVUsSTs7Ozs7Ozs7Ozs7QUNoRmY7Ozs7Ozs7O0lBRU0sSTtBQUNKLGdCQUFZLElBQVosRUFBa0IsSUFBbEIsRUFBd0I7QUFBQTs7QUFDdEIsU0FBSyxJQUFMLEdBQVksSUFBWjtBQUNBLFNBQUssSUFBTCxHQUFZLFFBQVEsT0FBcEI7QUFDQSxTQUFLLElBQUwsR0FBWSxRQUFRLEVBQXBCO0FBQ0Q7Ozs7d0JBRVU7QUFDVCxhQUFPLEtBQUssS0FBWjtBQUNELEs7c0JBRVEsSyxFQUFPO0FBQ2QsV0FBSyxLQUFMLEdBQWEsS0FBYjs7QUFFQSxVQUFJLEtBQUssSUFBVCxFQUFlO0FBQ2IsYUFBSyxJQUFMLENBQVUsR0FBVixDQUFjLGFBQWQsRUFBNkIsS0FBN0I7QUFDRDtBQUNGOzs7d0JBRVU7QUFDVCxhQUFPLEtBQUssS0FBWjtBQUNELEs7c0JBRVEsSyxFQUFPO0FBQ2QsV0FBSyxLQUFMLEdBQWEsUUFBUSxDQUFyQjs7QUFFQSxVQUFJLEtBQUssSUFBVCxFQUFlO0FBQ2IsYUFBSyxJQUFMLENBQVUsR0FBVixDQUFjLFdBQWQsRUFBMkIsUUFBUSxJQUFuQztBQUNEO0FBQ0Y7Ozt3QkFFVTtBQUNULGFBQU8sS0FBSyxLQUFMLEdBQWEsS0FBcEI7QUFDRCxLO3NCQUVRLEssRUFBTztBQUNkLFdBQUssS0FBTCxHQUFhLFFBQVEsS0FBckI7O0FBRUEsVUFBSSxLQUFLLElBQVQsRUFBZTtBQUNiLGFBQUssSUFBTCxDQUFVLEdBQVYsQ0FBYyxhQUFkLEVBQTZCLEtBQUssS0FBTCxHQUFhLE1BQWIsR0FBc0IsUUFBbkQ7QUFDRDtBQUNGOzs7d0JBRVk7QUFDWCxhQUFPLEtBQUssT0FBTCxHQUFlLEtBQXRCO0FBQ0QsSztzQkFFVSxLLEVBQU87QUFDaEIsV0FBSyxPQUFMLEdBQWUsUUFBUSxLQUF2Qjs7QUFFQSxVQUFJLEtBQUssSUFBVCxFQUFlO0FBQ2IsYUFBSyxJQUFMLENBQVUsR0FBVixDQUFjLFlBQWQsRUFBNEIsS0FBSyxPQUFMLEdBQWUsUUFBZixHQUEwQixRQUF0RDtBQUNEO0FBQ0Y7Ozt3QkFFZTtBQUNkLGFBQU8sS0FBSyxVQUFMLEdBQWtCLEtBQXpCO0FBQ0QsSztzQkFFYSxLLEVBQU87QUFDbkIsV0FBSyxVQUFMLEdBQWtCLFFBQVEsS0FBMUI7O0FBRUEsVUFBSSxLQUFLLElBQVQsRUFBZTtBQUNiLGFBQUssSUFBTCxDQUFVLEdBQVYsQ0FBYyxpQkFBZCxFQUFpQyxLQUFLLFVBQUwsR0FBa0IsV0FBbEIsR0FBZ0MsTUFBakU7QUFDRDtBQUNGOzs7K0JBRWlCLEcsRUFBSyxJLEVBQU07QUFDM0IsVUFBSSxnQkFBZ0IsSUFBcEIsRUFBMEI7QUFDeEIsWUFBSSxHQUFKLENBQVEsYUFBUixFQUF1QixLQUFLLElBQTVCO0FBQ0EsWUFBSSxHQUFKLENBQVEsV0FBUixFQUFxQixLQUFLLElBQTFCOztBQUVBLFlBQUksS0FBSyxJQUFULEVBQWU7QUFDYixjQUFJLEdBQUosQ0FBUSxhQUFSLEVBQXVCLE1BQXZCO0FBQ0Q7O0FBRUQsWUFBSSxLQUFLLE1BQVQsRUFBaUI7QUFDZixjQUFJLEdBQUosQ0FBUSxZQUFSLEVBQXNCLFFBQXRCO0FBQ0Q7O0FBRUQsWUFBSSxLQUFLLFNBQVQsRUFBb0I7QUFDbEIsY0FBSSxHQUFKLENBQVEsaUJBQVIsRUFBMkIsV0FBM0I7QUFDRDtBQUNGO0FBQ0Y7OzsrQkFFaUIsRyxFQUFLO0FBQ3JCLFVBQUksZUFBZSxNQUFuQixFQUEyQjtBQUN6QixZQUFJLFNBQVMsSUFBSSxHQUFKLENBQVEsYUFBUixDQUFiO0FBQ0EsWUFBSSxPQUFPLGdCQUFNLElBQU4sQ0FBVyxJQUFJLEdBQUosQ0FBUSxXQUFSLENBQVgsQ0FBWDs7QUFFQSxZQUFJLE9BQU8sSUFBSSxHQUFKLENBQVEsYUFBUixNQUEyQixNQUF0QztBQUNBLFlBQUksU0FBUyxJQUFJLEdBQUosQ0FBUSxZQUFSLE1BQTBCLFFBQXZDOztBQUVBLFlBQUksT0FBTyxJQUFJLElBQUosQ0FBUyxNQUFULEVBQWlCLElBQWpCLENBQVg7O0FBRUEsWUFBSSxJQUFKLEVBQVUsS0FBSyxJQUFMLEdBQVksSUFBWjtBQUNWLFlBQUksTUFBSixFQUFZLEtBQUssTUFBTCxHQUFjLElBQWQ7O0FBRVosYUFBSyxJQUFMLEdBQVksR0FBWjtBQUNBLGVBQU8sSUFBUDtBQUNEOztBQUVELFlBQU0sSUFBSSxTQUFKLENBQWMsZ0RBQWQsQ0FBTjtBQUNEOzs7Ozs7a0JBR1ksSTs7Ozs7Ozs7Ozs7Ozs7O0lDM0dULEs7Ozs7Ozs7OEJBRWEsRyxFQUFLO0FBQ3BCLFVBQUk7QUFDRjtBQUNBLGVBQU8sZUFBZSxXQUF0QjtBQUNELE9BSEQsQ0FHRSxPQUFNLENBQU4sRUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLGVBQVEsUUFBTyxHQUFQLHlDQUFPLEdBQVAsT0FBYSxRQUFkLElBQ0osSUFBSSxRQUFKLEtBQWUsQ0FEWCxJQUNrQixRQUFPLElBQUksS0FBWCxNQUFxQixRQUR2QyxJQUVKLFFBQU8sSUFBSSxhQUFYLE1BQTRCLFFBRi9CO0FBR0Q7QUFDRjs7O3lCQUVXLFEsRUFBVTtBQUNwQixhQUFPLFNBQVMsUUFBVCxDQUFQO0FBQ0Q7Ozs7OztrQkFHWSxLOzs7OztBQ3ZCZjs7OztBQUNBOzs7Ozs7QUFFQSxPQUFPLEVBQVA7QUFDQSxPQUFPLEVBQVAiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiaW1wb3J0IFV0aWxzIGZyb20gJy4vLi4vVVgvdXRpbC9VdGlscyc7XHJcbmltcG9ydCBDb250YWluZXIgZnJvbSAnLi8uLi9VWC9Db250YWluZXInO1xyXG5pbXBvcnQgTm9kZSBmcm9tICcuLy4uL1VYL05vZGUnO1xyXG5cclxuaW1wb3J0IExvZ2dlciBmcm9tICcuL0xvZ2dlcic7XHJcbmltcG9ydCBVSUxvYWRlciBmcm9tICcuL1VJTG9hZGVyJztcclxuXHJcbmNsYXNzIEFwcCB7XHJcbiAgY29uc3RydWN0b3IoZG9tRWxlbWVudCkge1xyXG4gICAgdGhpcy5sb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XHJcbiAgICB0aGlzLnVpTG9hZGVyID0gbmV3IFVJTG9hZGVyKCk7XHJcbiAgICB0aGlzLl9jb250ZW50ID0gbnVsbDtcclxuXHJcbiAgICBpZiAoVXRpbHMuaXNFbGVtZW50KGRvbUVsZW1lbnQpKSB7XHJcbiAgICAgIHRoaXMuZG9tID0galF1ZXJ5KGRvbUVsZW1lbnQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGRvbUVsZW1lbnQgaW5zdGFuY2VvZiBqUXVlcnkpIHtcclxuICAgICAgICB0aGlzLmRvbSA9IGRvbUVsZW1lbnQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5kb20gPSBqUXVlcnkoZG9jdW1lbnQpLmZpbmQoZG9tRWxlbWVudCkuZmlyc3QoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0IGNvbnRlbnQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY29udGVudDtcclxuICB9XHJcblxyXG4gIHNldCBjb250ZW50KG5vZGUpIHtcclxuICAgIHRoaXMuZG9tLmVtcHR5KCk7XHJcblxyXG4gICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBOb2RlKSB7XHJcbiAgICAgIHRoaXMuX2NvbnRlbnQgPSBub2RlO1xyXG4gICAgICB0aGlzLmRvbS5hcHBlbmQobm9kZS5kb20pO1xyXG4gICAgfSBlbHNlIGlmIChub2RlID09PSBudWxsKSB7XHJcbiAgICAgIHRoaXMuX2NvbnRlbnQgPSBudWxsO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKG5vZGUpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb250ZW50IHByb3BlcnR5OiBtdXN0IGJlIGluc3RhbmNlIG9mIE5vZGUsIFwiICsgKG5vZGUuY29uc3RydWN0b3IgPyBub2RlLmNvbnN0cnVjdG9yLm5hbWUgOiB0eXBlb2Ygbm9kZSkgKyBcIiBnaXZlblwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb250ZW50IHByb3BlcnR5OiBtdXN0IGJlIGluc3RhbmNlIG9mIE5vZGUsIHVuZGVmaW5lZCBnaXZlblwiKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2hvd1BhZ2UocGFnZSkge1xyXG4gICAgcGFnZS5zaG93SW5BcHAodGhpcyk7XHJcbiAgfVxyXG5cclxuICBsb2cobWVzc2FnZSkge1xyXG4gICAgdGhpcy5sb2dnZXIuaW5mbyhtZXNzYWdlKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEFwcDtcclxuIiwiaW1wb3J0IENvbnRhaW5lciBmcm9tICcuLy4uL1VYL0NvbnRhaW5lcic7XHJcblxyXG5jbGFzcyBVSSB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKG5vZGUpIHtcclxuICAgIHRoaXMuX25vZGUgPSBub2RlO1xyXG5cclxuICAgIHRoaXMucmVmcmVzaChub2RlKTtcclxuICB9XHJcblxyXG4gIHJlZnJlc2gobm9kZSkge1xyXG4gICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBDb250YWluZXIpIHtcclxuICAgICAgdmFyIGNoaWxkcmVuID0gbm9kZS5jaGlsZHJlbigpO1xyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG5cclxuICAgICAgICBpZiAoY2hpbGQpIHtcclxuICAgICAgICAgIHZhciBpZCA9IGNoaWxkLmlkO1xyXG5cclxuICAgICAgICAgIGlmIChpZCAmJiAhdGhpc1tpZF0pIHtcclxuICAgICAgICAgICAgdGhpc1tpZF0gPSBjaGlsZDtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKGNoaWxkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbnRyb2xsZXIoaGFuZGxlcnMpIHtcclxuICByZXR1cm4gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICB0aGlzLm5vZGUgPSBub2RlO1xyXG4gICAgdGhpcy5oYW5kbGVycyA9IGhhbmRsZXJzO1xyXG4gICAgdGhpcy51aSA9IG5ldyBVSShub2RlKTtcclxuXHJcbiAgICB2YXIgaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgZm9yICh2YXIgaWQgaW4gaGFuZGxlcnMpIHtcclxuICAgICAgICBpZiAoaGFuZGxlcnMuaGFzT3duUHJvcGVydHkoaWQpKSB7XHJcbiAgICAgICAgICB2YXIgc3ViID0gbm9kZS5jaGlsZChpZCk7XHJcblxyXG4gICAgICAgICAgaWYgKHN1Yikge1xyXG4gICAgICAgICAgICBzZWxmLmJpbmQoc3ViLCBoYW5kbGVyc1tpZF0pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBDaGlsZCAnJHtpZH0nIGlzIG5vdCBkZWZpbmVkYCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuYmluZCA9IGZ1bmN0aW9uIChub2RlLCBoYW5kbGVycykge1xyXG4gICAgICBmb3IgKHZhciBldmVudCBpbiBoYW5kbGVycykge1xyXG4gICAgICAgIGlmIChoYW5kbGVycy5oYXNPd25Qcm9wZXJ0eShldmVudCkpIHtcclxuICAgICAgICAgIG5vZGUub24oZXZlbnQsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUudWkgPSBzZWxmLnVpO1xyXG4gICAgICAgICAgICBoYW5kbGVyc1tldmVudF0uY2FsbChzZWxmLCBlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKTtcclxuICB9O1xyXG59XHJcbiIsIlxyXG5cclxuY2xhc3MgTG9nZ2VyIHtcclxuICBzdGF0aWMgZ2V0IERFQlVHKCkgeyByZXR1cm4gMSB9XHJcbiAgc3RhdGljIGdldCBJTkZPKCkgeyByZXR1cm4gMTAgfVxyXG4gIHN0YXRpYyBnZXQgV0FSTklORygpIHsgcmV0dXJuIDEwMCB9XHJcbiAgc3RhdGljIGdldCBFUlJPUigpIHsgcmV0dXJuIDEwMDAgfVxyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMubGV2ZWwgPSBMb2dnZXIuSU5GTztcclxuICB9XHJcblxyXG4gIGRlYnVnKG1lc3NhZ2UpIHtcclxuICAgIGlmICh0aGlzLmxldmVsID49IExvZ2dlci5ERUJVRykge1xyXG4gICAgICBjb25zb2xlLmRlYnVnKC4uLmFyZ3VtZW50cyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpbmZvKG1lc3NhZ2UpIHtcclxuICAgIGlmICh0aGlzLmxldmVsID49IExvZ2dlci5JTkZPKSB7XHJcbiAgICAgIGNvbnNvbGUuaW5mbyguLi5hcmd1bWVudHMpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZXJyb3IobWVzc2FnZSkge1xyXG4gICAgaWYgKHRoaXMubGV2ZWwgPj0gTG9nZ2VyLkVSUk9SKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoLi4uYXJndW1lbnRzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHdhcm4obWVzc2FnZSkge1xyXG4gICAgaWYgKHRoaXMubGV2ZWwgPj0gTG9nZ2VyLldBUk5JTkcpIHtcclxuICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTG9nZ2VyO1xyXG4iLCJpbXBvcnQgQXBwIGZyb20gJy4vQXBwJztcclxuaW1wb3J0IExvZ2dlciBmcm9tICcuL0xvZ2dlcic7XHJcbmltcG9ydCBjb250cm9sbGVyIGZyb20gJy4vQ29udHJvbGxlcic7XHJcbmltcG9ydCBVSUxvYWRlciBmcm9tICcuL1VJTG9hZGVyJztcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgQXBwLCBMb2dnZXIsIFVJTG9hZGVyLFxyXG4gIGNvbnRyb2xsZXJcclxufVxyXG4iLCJpbXBvcnQgTm9kZSBmcm9tICcuLy4uL1VYL05vZGUnO1xyXG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJy4vLi4vVVgvQ29udGFpbmVyJztcclxuaW1wb3J0IFVYIGZyb20gJy4vLi4vVVgvVVgnO1xyXG5cclxuY2xhc3MgVUlMb2FkZXIge1xyXG5cclxuICBsb2FkKG9iamVjdCwgY29udHJvbGxlcikge1xyXG4gICAgaWYgKG9iamVjdCAmJiB0eXBlb2Ygb2JqZWN0ID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgIGNvbnN0IHR5cGUgPSBvYmplY3RbJ18nXTtcclxuXHJcbiAgICAgIGlmICghdHlwZSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlR5cGUgaXMgbm90IGRlZmluZWQgaW4gJ18nIHByb3BlcnR5IVwiKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgY2xzID0gVVhbdHlwZV07XHJcblxyXG4gICAgICBpZiAoIWNscykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVHlwZSAnJHt0eXBlfScgaXMgbm90IGRlZmluZWRgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3Qgbm9kZSA9IG5ldyBjbHMoKTtcclxuXHJcbiAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgTm9kZSkge1xyXG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQ29udGFpbmVyICYmIGpRdWVyeS5pc0FycmF5KG9iamVjdFsnX2NvbnRlbnQnXSkpIHtcclxuICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gb2JqZWN0WydfY29udGVudCddO1xyXG5cclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmxvYWQoY2hpbGRyZW5baV0sIGNvbnRyb2xsZXIpO1xyXG4gICAgICAgICAgICBub2RlLmFkZChjaGlsZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBub2RlLmxvYWQob2JqZWN0LCBjb250cm9sbGVyKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUeXBlICcke3R5cGV9JyBpcyBub3QgVUkgY29tcG9uZW50IGNsYXNzYCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGxvYWRGcm9tSnNvbihqc29uU3RyaW5nLCBjb250cm9sbGVyKSB7XHJcbiAgICByZXR1cm4gdGhpcy5sb2FkKEpTT04ucGFyc2UoanNvblN0cmluZyksIGNvbnRyb2xsZXIpO1xyXG4gIH1cclxuXHJcbiAgbG9hZEZyb21VcmwodXJsVG9Kc29uLCBjYWxsYmFjaywgY29udHJvbGxlcikge1xyXG5cclxuICAgIGpRdWVyeS5nZXRKU09OKHVybFRvSnNvbiwgKGRhdGEpID0+IHtcclxuICAgICAgICBjYWxsYmFjayh0aGlzLmxvYWQoZGF0YSwgY29udHJvbGxlcikpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBVSUxvYWRlcjtcclxuIiwiaW1wb3J0IENvbnRhaW5lciBmcm9tICcuL0NvbnRhaW5lcic7XHJcblxyXG5jbGFzcyBBbmNob3JQYW5lIGV4dGVuZHMgQ29udGFpbmVyIHtcclxuICBjcmVhdGVEb20oKSB7XHJcbiAgICB2YXIgZG9tID0gc3VwZXIuY3JlYXRlRG9tKCk7XHJcbiAgICBkb20uYWRkQ2xhc3MoJ3V4LWFuY2hvci1wYW5lJyk7XHJcbiAgICByZXR1cm4gZG9tO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlU2xvdERvbShvYmplY3QpIHtcclxuICAgIG9iamVjdC5kb20uY3NzKCdwb3NpdGlvbicsICdhYnNvbHV0ZScpO1xyXG4gICAgcmV0dXJuIG9iamVjdC5kb207XHJcbiAgfVxyXG5cclxuICBjaGlsZFRvQmFjayhvYmplY3QpIHtcclxuICAgIHZhciBkb20gPSBvYmplY3QuZG9tO1xyXG4gICAgZG9tLmRldGFjaCgpO1xyXG5cclxuICAgIHRoaXMuZG9tLnByZXBlbmQoZG9tKTtcclxuICB9XHJcblxyXG4gIGNoaWxkVG9Gcm9udChvYmplY3QpIHtcclxuICAgIHZhciBkb20gPSBvYmplY3QuZG9tO1xyXG4gICAgZG9tLmRldGFjaCgpO1xyXG4gICAgdGhpcy5kb20uYXBwZW5kKGRvbSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBbmNob3JQYW5lO1xyXG4iLCJpbXBvcnQgTGFiZWxlZCBmcm9tICcuL0xhYmVsZWQnO1xyXG5cclxuY2xhc3MgQnV0dG9uIGV4dGVuZHMgTGFiZWxlZCB7XHJcblxyXG4gICAgY3JlYXRlRG9tKCkge1xyXG4gICAgICAgIHZhciBkb20gPSBqUXVlcnkoJzxidXR0b24+PHNwYW4gY2xhc3M9XCJ1eC1sYWJlbGVkLXRleHRcIj48L3NwYW4+PC9idXR0b24+Jyk7XHJcbiAgICAgICAgZG9tLmFkZENsYXNzKCd1eC1sYWJlbGVkJyk7XHJcbiAgICAgICAgZG9tLmFkZENsYXNzKCd1eC1idXR0b24nKTtcclxuXHJcbiAgICAgICAgZG9tLmFkZENsYXNzKCdidG4nKTtcclxuICAgICAgICBkb20uYWRkQ2xhc3MoJ2J0bi1kZWZhdWx0Jyk7XHJcblxyXG4gICAgICAgIHJldHVybiBkb207XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbjtcclxuIiwiaW1wb3J0IExhYmVsZWQgZnJvbSAnLi9MYWJlbGVkJztcclxuXHJcbmNsYXNzIENoZWNrYm94IGV4dGVuZHMgTGFiZWxlZCB7XHJcbiAgY3JlYXRlRG9tKCkge1xyXG4gICAgICB2YXIgZG9tID0galF1ZXJ5KCc8bGFiZWw+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiPiA8c3BhbiBjbGFzcz1cInV4LWxhYmVsZWQtdGV4dFwiPjwvc3Bhbj48L2xhYmVsPicpO1xyXG4gICAgICBkb20uYWRkQ2xhc3MoJ3V4LWxhYmVsZWQnKTtcclxuICAgICAgZG9tLmFkZENsYXNzKCd1eC1jaGVja2JveCcpO1xyXG4gICAgICByZXR1cm4gZG9tO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGNoZWNrZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5kb20uZmluZCgnPiBpbnB1dFt0eXBlPWNoZWNrYm94XScpLnByb3AoJ2NoZWNrZWQnKTtcclxuICB9XHJcblxyXG4gIHNldCBjaGVja2VkKHZhbHVlKSB7XHJcbiAgICB0aGlzLmRvbS5maW5kKCc+IGlucHV0W3R5cGU9Y2hlY2tib3hdJykucHJvcCgnY2hlY2tlZCcsIHZhbHVlKTtcclxuICB9XHJcblxyXG4gIGdldCBzZWxlY3RlZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmNoZWNrZWQ7XHJcbiAgfVxyXG5cclxuICBzZXQgc2VsZWN0ZWQodmFsdWUpIHtcclxuICAgIHRoaXMuY2hlY2tlZCA9IHZhbHVlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2hlY2tib3g7XHJcbiIsImltcG9ydCBOb2RlIGZyb20gXCIuL05vZGVcIjtcclxuXHJcbmNsYXNzIENvbnRhaW5lciBleHRlbmRzIE5vZGUge1xyXG4gIGNvbnN0cnVjdG9yKG5vZGVzKSB7XHJcbiAgICAgIHN1cGVyKCk7XHJcbiAgICAgIHRoaXMuYWRkKC4uLmFyZ3VtZW50cyk7XHJcbiAgfVxyXG5cclxuICBnZXQgYWxpZ24oKSB7XHJcbiAgICByZXR1cm4gW3RoaXMuaG9yQWxpZ24sIHRoaXMudmVyQWxpZ25dO1xyXG4gIH1cclxuXHJcbiAgc2V0IGFsaWduKHZhbHVlKSB7XHJcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheSAmJiB2YWx1ZS5sZW5ndGggPj0gMikge1xyXG4gICAgICB0aGlzLmhvckFsaWduID0gdmFsdWVbMF07XHJcbiAgICAgIHRoaXMudmVyQWxpZ24gPSB2YWx1ZVsxXTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldCBob3JBbGlnbigpIHtcclxuICAgIHJldHVybiB0aGlzLmRvbS5jc3MoJ3RleHQtYWxpZ24nKTtcclxuICB9XHJcblxyXG4gIHNldCBob3JBbGlnbih2YWx1ZSkge1xyXG4gICAgdGhpcy5kb20uY3NzKCd0ZXh0LWFsaWduJywgdmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHZlckFsaWduKCkge1xyXG4gICAgdmFyIGFsaWduID0gdGhpcy5kb20uY3NzKCdqdXN0aWZ5LWNvbnRlbnQnKVxyXG4gICAgcmV0dXJuIGFsaWduID8gYWxpZ24gOiAndG9wJztcclxuICB9XHJcblxyXG4gIHNldCB2ZXJBbGlnbih2YWx1ZSkge1xyXG4gICAgdGhpcy5kb20uY3NzKCdqdXN0aWZ5LWNvbnRlbnQnLCB2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBjcmVhdGVTbG90RG9tKG9iamVjdCkge1xyXG4gICAgaWYgKCEob2JqZWN0IGluc3RhbmNlb2YgTm9kZSkpIHtcclxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignY3JlYXRlU2xvdERvbSgpOiAxIGFyZ3VtZW50IG11c3QgYmUgaW5zdGFuY2Ugb2YgTm9kZScpXHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGRvbSA9IGpRdWVyeSgnPGRpdi8+JykuYXBwZW5kKG9iamVjdC5kb20pO1xyXG4gICAgZG9tLmFkZENsYXNzKCd1eC1zbG90Jyk7XHJcblxyXG4gICAgZG9tLmRhdGEoJy0td3JhcHBlcicsIG9iamVjdCk7XHJcbiAgICBvYmplY3QuZG9tLmRhdGEoJy0td3JhcHBlci1kb20nLCBkb20pO1xyXG4gICAgcmV0dXJuIGRvbTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZURvbSgpIHtcclxuICAgIHZhciBkb20gPSBqUXVlcnkoJzxkaXY+PC9kaXY+Jyk7XHJcbiAgICBkb20uYWRkQ2xhc3MoJ3V4LWNvbnRhaW5lcicpO1xyXG5cclxuICAgIHJldHVybiBkb207XHJcbiAgfVxyXG5cclxuICBjaGlsZChpZCkge1xyXG4gICAgdmFyIGRvbSA9IHRoaXMuZG9tLmZpbmQoYCMke2lkfWApO1xyXG5cclxuICAgIGlmIChkb20gJiYgZG9tLmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gTm9kZS5nZXRGcm9tRG9tKGRvbSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBjaGlsZHJlbigpIHtcclxuICAgIHZhciBjaGlsZHJlbiA9IFtdO1xyXG5cclxuICAgIHRoaXMuZG9tLmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNoaWxkcmVuLnB1c2goTm9kZS5nZXRGcm9tRG9tKGpRdWVyeSh0aGlzKSkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGNoaWxkcmVuO1xyXG4gIH1cclxuXHJcbiAgYWRkKG5vZGVzKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICB0aGlzLmRvbS5hcHBlbmQodGhpcy5jcmVhdGVTbG90RG9tKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgaW5zZXJ0KGluZGV4LCBub2Rlcykge1xyXG4gICAgaW5kZXggPSBpbmRleCB8IDA7XHJcblxyXG4gICAgdmFyIGNoaWxkcmVuID0gdGhpcy5kb20uY2hpbGRyZW4oKTtcclxuXHJcbiAgICBpZiAoIWNoaWxkcmVuLmxlbmd0aCB8fCBpbmRleCA+PSBjaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuYWRkKC4uLkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xyXG4gICAgfVxyXG5cclxuICAgIG5vZGVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcclxuXHJcbiAgICB2YXIgaSA9IDA7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgdGhpcy5kb20uY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKGluZGV4ID09PSBpKSB7XHJcbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBub2Rlcy5sZW5ndGg7IGsrKykge1xyXG4gICAgICAgICAgdmFyIHNsb3QgPSBzZWxmLmNyZWF0ZVNsb3REb20obm9kZXNba10pO1xyXG4gICAgICAgICAgc2xvdC5pbnNlcnRCZWZvcmUodGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGkrKztcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgY2xlYXIoKSB7XHJcbiAgICB0aGlzLmRvbS5lbXB0eSgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29udGFpbmVyO1xyXG4iLCJpbXBvcnQgQ29udGFpbmVyIGZyb20gJy4vQ29udGFpbmVyJztcclxuXHJcbmNsYXNzIEhCb3ggZXh0ZW5kcyBDb250YWluZXIge1xyXG5cclxuICBjb25zdHJ1Y3Rvcihub2Rlcykge1xyXG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuXHJcbiAgICB0aGlzLnNwYWNpbmcgPSAwO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHNwYWNpbmcoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fc3BhY2luZztcclxuICB9XHJcblxyXG4gIHNldCBzcGFjaW5nKHZhbHVlKSB7XHJcbiAgICB0aGlzLl9zcGFjaW5nID0gdmFsdWU7XHJcbiAgICB2YXIgc2xvdHMgPSB0aGlzLmRvbS5maW5kKCc+IGRpdicpO1xyXG5cclxuICAgIHNsb3RzLmNzcygnbWFyZ2luLXJpZ2h0JywgdmFsdWUgKyAncHgnKTtcclxuICAgIHNsb3RzLmxhc3QoKS5jc3MoJ21hcmdpbi1yaWdodCcsIDApO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGhvckFsaWduKCkge1xyXG4gICAgdmFyIGFsaWduID0gdGhpcy5kb20uY3NzKCdqdXN0aWZ5LWNvbnRlbnQnKTtcclxuXHJcbiAgICBzd2l0Y2ggKGFsaWduKSB7XHJcbiAgICAgIGNhc2UgJ2ZsZXgtc3RhcnQnOiByZXR1cm4gJ2xlZnQnO1xyXG4gICAgICBjYXNlICdmbGV4LWVuZCc6IHJldHVybiAncmlnaHQnO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhbGlnbjtcclxuICB9XHJcblxyXG4gIHNldCBob3JBbGlnbih2YWx1ZSkge1xyXG4gICAgc3dpdGNoICh2YWx1ZSkge1xyXG4gICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgICB2YWx1ZSA9ICdmbGV4LXN0YXJ0JzsgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ3JpZ2h0JzpcclxuICAgICAgICB2YWx1ZSA9ICdmbGV4LWVuZCc7IGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZG9tLmNzcygnanVzdGlmeS1jb250ZW50JywgdmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHZlckFsaWduKCkge1xyXG4gICAgdmFyIGFsaWduID0gdGhpcy5kb20uY3NzKCdhbGlnbi1pdGVtcycpO1xyXG5cclxuICAgIHN3aXRjaCAoYWxpZ24pIHtcclxuICAgICAgY2FzZSAnZmxleC1zdGFydCc6IHJldHVybiAndG9wJztcclxuICAgICAgY2FzZSAnZmxleC1lbmQnOiByZXR1cm4gJ2JvdHRvbSc7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGFsaWduID8gYWxpZ24gOiAndG9wJztcclxuICB9XHJcblxyXG4gIHNldCB2ZXJBbGlnbih2YWx1ZSkge1xyXG4gICAgc3dpdGNoICh2YWx1ZSkge1xyXG4gICAgICBjYXNlICd0b3AnOlxyXG4gICAgICAgIHZhbHVlID0gJ2ZsZXgtc3RhcnQnOyBicmVhaztcclxuICAgICAgY2FzZSAnYm90dG9tJzpcclxuICAgICAgICB2YWx1ZSA9ICdmbGV4LWVuZCc7IGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZG9tLmNzcygnYWxpZ24taXRlbXMnLCB2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBjcmVhdGVEb20oKSB7XHJcbiAgICB2YXIgZG9tID0gc3VwZXIuY3JlYXRlRG9tKCk7XHJcbiAgICBkb20uYWRkQ2xhc3MoJ3V4LWgtYm94Jyk7XHJcblxyXG4gICAgcmV0dXJuIGRvbTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZVNsb3REb20ob2JqZWN0KSB7XHJcbiAgICB2YXIgZG9tID0gc3VwZXIuY3JlYXRlU2xvdERvbShvYmplY3QpO1xyXG4gICAgcmV0dXJuIGRvbTtcclxuICB9XHJcblxyXG4gIGFkZChub2Rlcykge1xyXG4gICAgc3VwZXIuYWRkKC4uLmFyZ3VtZW50cyk7XHJcbiAgICB0aGlzLnNwYWNpbmcgPSB0aGlzLnNwYWNpbmc7XHJcbiAgfVxyXG5cclxuICBpbnNlcnQoaW5kZXgsIG5vZGVzKSB7XHJcbiAgICBzdXBlci5pbnNlcnQoLi4uYXJndW1lbnRzKTtcclxuICAgIHRoaXMuc3BhY2luZyA9IHRoaXMuc3BhY2luZztcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEhCb3g7XHJcbiIsImltcG9ydCBOb2RlIGZyb20gJy4vTm9kZSc7XHJcblxyXG5jbGFzcyBJbWFnZVZpZXcgZXh0ZW5kcyBOb2RlIHtcclxuXHJcbiAgY29uc3RydWN0b3IoaW1hZ2UpIHtcclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgdGhpcy5wcm9wb3J0aW9uYWwgPSB0cnVlO1xyXG4gICAgdGhpcy5kaXNwbGF5VHlwZSA9ICdvcmlnaW4nO1xyXG5cclxuICAgIGlmIChpbWFnZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRoaXMuc291cmNlID0gaW1hZ2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXQgc291cmNlKCkge1xyXG4gICAgdmFyIHNvdXJjZSA9IHRoaXMuZG9tLmNzcygnYmFja2dyb3VuZC1pbWFnZScpO1xyXG5cclxuICAgIGlmIChzb3VyY2UpIHtcclxuICAgICAgc291cmNlID0gL151cmxcXCgoWydcIl0/KSguKilcXDFcXCkkLy5leGVjKHNvdXJjZSk7XHJcbiAgICAgIHJldHVybiBzb3VyY2UgPyBzb3VyY2VbMl0gOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgc2V0IHNvdXJjZSh2YWx1ZSkge1xyXG4gICAgdGhpcy5kb20uY3NzKHsnYmFja2dyb3VuZC1pbWFnZSc6IGB1cmwoJyR7dmFsdWV9JylgfSk7XHJcblxyXG4gICAgaWYgKHRoaXMuZGlzcGxheVR5cGUgPT0gJ29yaWdpbicpIHtcclxuICAgICAgdGhpcy5kb20uZmluZCgnaW1nJykuYXR0cignc3JjJywgdmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0IGNlbnRlcmVkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZG9tLmNzcygnYmFja2dyb3VuZC1wb3NpdGlvbicpID09PSAnNTAlIDUwJSc7XHJcbiAgfVxyXG5cclxuICBzZXQgY2VudGVyZWQodmFsdWUpIHtcclxuICAgIHRoaXMuZG9tLmNzcygnYmFja2dyb3VuZC1wb3NpdGlvbicsIHZhbHVlID8gJzUwJSA1MCUnIDogJzAgMCcpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGRpc3BsYXlUeXBlKCkge1xyXG4gICAgc3dpdGNoICh0aGlzLmRvbS5jc3MoJ2JhY2tncm91bmQtc2l6ZScpKSB7XHJcbiAgICAgIGNhc2UgJzEwMCUgMTAwJSc6IHJldHVybiAnZmlsbGVkJztcclxuICAgICAgY2FzZSAnY292ZXInOiByZXR1cm4gJ2Nyb3BwZWQnO1xyXG4gICAgICBjYXNlICdyZXNpemVkJzogcmV0dXJuICdyZXNpemVkJztcclxuXHJcbiAgICAgIGNhc2UgJ2F1dG8nOlxyXG4gICAgICBjYXNlICdhdXRvIGF1dG8nOiByZXR1cm4gJ29yaWdpbic7XHJcblxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldCBkaXNwbGF5VHlwZSh0eXBlKSB7XHJcbiAgICB0aGlzLmRvbS5maW5kKCdpbWcnKS5yZW1vdmUoKTtcclxuXHJcbiAgICBzd2l0Y2ggKHR5cGUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgIGNhc2UgJ2ZpbGxlZCc6XHJcbiAgICAgICAgdGhpcy5kb20uY3NzKCdiYWNrZ3JvdW5kLXNpemUnLCBgMTAwJSAxMDAlYCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2Nyb3BwZWQnOlxyXG4gICAgICAgIHRoaXMuZG9tLmNzcygnYmFja2dyb3VuZC1zaXplJywgJ2NvdmVyJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ3Jlc2l6ZWQnOlxyXG4gICAgICAgIHRoaXMuZG9tLmNzcygnYmFja2dyb3VuZC1zaXplJywgJ2NvbnRhaW4nKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnb3JpZ2luJzpcclxuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XHJcbiAgICAgICAgdGhpcy5kb20uY3NzKCdiYWNrZ3JvdW5kLXNpemUnLCAnYXV0byBhdXRvJyk7XHJcbiAgICAgICAgdGhpcy5kb20uYXBwZW5kKGpRdWVyeSgnPGltZyBzdHlsZT1cInZpc2liaWxpdHk6IGhpZGRlblwiIC8+JykpO1xyXG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY3JlYXRlRG9tKCkge1xyXG4gICAgdmFyIGRvbSA9IGpRdWVyeSgnPGRpdj48L2Rpdj4nKTtcclxuICAgIGRvbS5hZGRDbGFzcygndXgtaW1hZ2UtdmlldycpO1xyXG5cclxuICAgIGRvbS5jc3Moe1xyXG4gICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcclxuICAgICAgYmFja2dyb3VuZFJlcGVhdDogJ25vLXJlcGVhdCcsXHJcbiAgICAgIGJhY2tncm91bmRTaXplOiAnMTAwJSAxMDAlJyxcclxuICAgICAgYmFja2dyb3VuZFBvc2l0aW9uOiAnMCAwJ1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZG9tO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VWaWV3O1xyXG4iLCJpbXBvcnQgTGFiZWxlZCBmcm9tICcuL0xhYmVsZWQnO1xyXG5cclxuXHJcbmNsYXNzIExhYmVsIGV4dGVuZHMgTGFiZWxlZCB7XHJcblxyXG4gIGNyZWF0ZURvbSgpIHtcclxuICAgICAgdmFyIGRvbSA9IGpRdWVyeSgnPHNwYW4gY2xhc3M9XCJ1eC1sYWJlbGVkIHV4LWxhYmVsXCI+PHNwYW4gY2xhc3M9XCJ1eC1sYWJlbGVkLXRleHRcIj48L3NwYW4+PC9zcGFuPicpO1xyXG4gICAgICByZXR1cm4gZG9tO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTGFiZWw7XHJcbiIsImltcG9ydCBOb2RlIGZyb20gJy4vTm9kZSc7XHJcbmltcG9ydCBGb250IGZyb20gJy4vcGFpbnQvRm9udCc7XHJcbmltcG9ydCBJbWFnZVZpZXcgZnJvbSAnLi9JbWFnZVZpZXcnO1xyXG5pbXBvcnQgVXRpbHMgZnJvbSAnLi91dGlsL1V0aWxzJztcclxuXHJcbmNsYXNzIExhYmVsZWQgZXh0ZW5kcyBOb2RlIHtcclxuICAgIGNvbnN0cnVjdG9yKHRleHQsIGdyYXBoaWMpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMudGV4dFR5cGUgPSAndGV4dCc7XHJcbiAgICAgICAgdGhpcy5jb250ZW50RGlzcGxheSA9ICdsZWZ0JztcclxuICAgICAgICB0aGlzLmdyYXBoaWNUZXh0R2FwID0gNDtcclxuICAgICAgICB0aGlzLmdyYXBoaWMgPSBncmFwaGljO1xyXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGZvbnQoKSB7XHJcbiAgICAgIHJldHVybiBGb250LmdldEZyb21Eb20odGhpcy5kb20pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBmb250KHZhbHVlKSB7XHJcbiAgICAgIEZvbnQuYXBwbHlUb0RvbSh2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHRleHQoKSB7XHJcbiAgICAgIHN3aXRjaCAodGhpcy50ZXh0VHlwZSkge1xyXG4gICAgICAgIGNhc2UgJ3RleHQnOlxyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuZG9tLmZpbmQoJz4gc3Bhbi51eC1sYWJlbGVkLXRleHQnKS50ZXh0KCk7XHJcbiAgICAgICAgY2FzZSAnaHRtbCc6XHJcbiAgICAgICAgICByZXR1cm4gdGhpcy5kb20uZmluZCgnPiBzcGFuLnV4LWxhYmVsZWQtdGV4dCcpLmh0bWwoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCB0ZXh0KHZhbHVlKSB7XHJcbiAgICAgIHN3aXRjaCAodGhpcy50ZXh0VHlwZSkge1xyXG4gICAgICAgIGNhc2UgJ3RleHQnOlxyXG4gICAgICAgICAgdGhpcy5kb20uZmluZCgnPiBzcGFuLnV4LWxhYmVsZWQtdGV4dCcpLnRleHQodmFsdWUpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgJ2h0bWwnOlxyXG4gICAgICAgICAgdGhpcy5kb20uZmluZCgnPiBzcGFuLnV4LWxhYmVsZWQtdGV4dCcpLmh0bWwodmFsdWUpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgdGV4dENvbG9yKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5kb20uY3NzKCdjb2xvcicpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCB0ZXh0Q29sb3IodmFsdWUpIHtcclxuICAgICAgdGhpcy5kb20uY3NzKCdjb2xvcicsIHZhbHVlID8gdmFsdWUgOiAnJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHRleHRUeXBlKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5fdGV4dFR5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHRleHRUeXBlKHZhbHVlKSB7XHJcbiAgICAgIHZhciB0ZXh0ID0gdGhpcy50ZXh0O1xyXG4gICAgICB2YXIgZ3JhcGhpYyA9IHRoaXMuZ3JhcGhpYztcclxuXHJcbiAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3RleHRUeXBlID0gdmFsdWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuX3RleHRUeXBlID0gJ3RleHQnO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnRleHQgPSB0ZXh0O1xyXG4gICAgICB0aGlzLmdyYXBoaWMgPSBncmFwaGljO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb250ZW50RGlzcGxheSgpIHtcclxuICAgICAgaWYgKHRoaXMuZG9tLmZpcnN0KCkuaGFzQ2xhc3MoJ3V4LWdyYXBoaWMnKSkge1xyXG4gICAgICAgIGlmICh0aGlzLmRvbS5oYXNDbGFzcygndXgtbGFiZWxlZC12ZXJ0aWNhbCcpKSB7XHJcbiAgICAgICAgICByZXR1cm4gJ3RvcCc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiAnbGVmdCc7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZG9tLmxhc3QoKS5oYXNDbGFzcygndXgtZ3JhcGhpYycpKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZG9tLmhhc0NsYXNzKCd1eC1sYWJlbGVkLXZlcnRpY2FsJykpIHtcclxuICAgICAgICAgIHJldHVybiAnYm90dG9tJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuICdyaWdodCc7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZW50RGlzcGxheTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldCBjb250ZW50RGlzcGxheSh2YWx1ZSkge1xyXG4gICAgICB2YXIgZ3JhcGhpYyA9IHRoaXMuZ3JhcGhpYztcclxuICAgICAgdmFyIGdyYXBoaWNHYXAgPSB0aGlzLmdyYXBoaWNUZXh0R2FwO1xyXG4gICAgICB0aGlzLl9jb250ZW50RGlzcGxheSA9IHZhbHVlO1xyXG5cclxuICAgICAgc3dpdGNoICh2YWx1ZSkge1xyXG4gICAgICAgIGNhc2UgJ3RvcCc6XHJcbiAgICAgICAgY2FzZSAnYm90dG9tJzpcclxuICAgICAgICAgIHRoaXMuZG9tLmFkZENsYXNzKCd1eC1sYWJlbGVkLXZlcnRpY2FsJyk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgICAgdGhpcy5kb20ucmVtb3ZlQ2xhc3MoJ3V4LWxhYmVsZWQtdmVydGljYWwnKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgdGhpcy5kb20ucmVtb3ZlQ2xhc3MoJ3V4LWxhYmVsZWQtdmVydGljYWwnKTtcclxuICAgICAgICAgIHRoaXMuX2NvbnRlbnREaXNwbGF5ID0gJ2xlZnQnO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuZ3JhcGhpYyA9IGdyYXBoaWM7XHJcbiAgICAgIHRoaXMuZ3JhcGhpY1RleHRHYXAgPSBncmFwaGljR2FwO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBncmFwaGljVGV4dEdhcCgpIHtcclxuICAgICAgdmFyIGdyRG9tID0gdGhpcy5kb20uZmluZCgnLnV4LWdyYXBoaWMnKTtcclxuXHJcbiAgICAgIGlmIChnckRvbS5sZW5ndGgpIHtcclxuICAgICAgICB2YXIgcHJvcCA9ICdtYXJnaW4tcmlnaHQnO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHRoaXMuY29udGVudERpc3BsYXkpIHtcclxuICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6IHByb3AgPSAnbWFyZ2luLXRvcCc7IGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSAncmlnaHQnOiBwcm9wID0gJ21hcmdpbi1sZWZ0JzsgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlICd0b3AnOiBwcm9wID0gJ21hcmdpbi1ib3R0b20nOyBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBVdGlscy50b1B0KGdyRG9tLmNzcyhwcm9wKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dyYXBoaWNHYXA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXQgZ3JhcGhpY1RleHRHYXAodmFsdWUpIHtcclxuICAgICAgdGhpcy5fZ3JhcGhpY0dhcCA9IHZhbHVlO1xyXG5cclxuICAgICAgdmFyIGdyRG9tID0gdGhpcy5kb20uZmluZCgnLnV4LWdyYXBoaWMnKTtcclxuXHJcbiAgICAgIGlmIChnckRvbS5sZW5ndGgpIHtcclxuICAgICAgICBnckRvbS5jc3MoJ21hcmdpbicsIDApO1xyXG5cclxuICAgICAgICB2YXIgcHJvcCA9ICdtYXJnaW4tcmlnaHQnO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHRoaXMuY29udGVudERpc3BsYXkpIHtcclxuICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6IHByb3AgPSAnbWFyZ2luLXRvcCc7IGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSAncmlnaHQnOiBwcm9wID0gJ21hcmdpbi1sZWZ0JzsgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlICd0b3AnOiBwcm9wID0gJ21hcmdpbi1ib3R0b20nOyBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdyRG9tLmNzcyhwcm9wLCB2YWx1ZSArICdweCcpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGdyYXBoaWMoKSB7XHJcbiAgICAgIHJldHVybiBOb2RlLmdldEZyb21Eb20odGhpcy5kb20uZmluZCgnLnV4LWdyYXBoaWMgPiAqJykuZmlyc3QoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGdyYXBoaWMobm9kZSkge1xyXG4gICAgICB2YXIgZ3JhcGhpY0dhcCA9IHRoaXMuZ3JhcGhpY1RleHRHYXA7XHJcbiAgICAgIHRoaXMuZG9tLmZpbmQoJy51eC1ncmFwaGljJykucmVtb3ZlKCk7XHJcblxyXG4gICAgICBpZiAobm9kZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygbm9kZSA9PT0gJ3N0cmluZycgfHwgbm9kZSBpbnN0YW5jZW9mIFN0cmluZykge1xyXG4gICAgICAgICAgbm9kZSA9IG5ldyBJbWFnZVZpZXcobm9kZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgZG9tID0galF1ZXJ5KCc8c3BhbiBjbGFzcz1cInV4LWdyYXBoaWNcIiAvPicpLmFwcGVuZChub2RlLmRvbSk7XHJcblxyXG4gICAgICAgIHN3aXRjaCAodGhpcy5jb250ZW50RGlzcGxheSkge1xyXG4gICAgICAgICAgY2FzZSAndG9wJzpcclxuICAgICAgICAgIGNhc2UgJ2xlZnQnOlxyXG4gICAgICAgICAgICB0aGlzLmRvbS5wcmVwZW5kKGRvbSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSAnYm90dG9tJzpcclxuICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcclxuICAgICAgICAgICAgdGhpcy5kb20uYXBwZW5kKGRvbSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5ncmFwaGljVGV4dEdhcCA9IGdyYXBoaWNHYXA7XHJcbiAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTGFiZWxlZDtcclxuIiwiaW1wb3J0IFV0aWxzIGZyb20gJy4vdXRpbC9VdGlscyc7XHJcblxyXG4vKipcclxuICogQmFzZSBIVE1MIE5vZGUgY2xhc3MuXHJcbiAqKi9cclxuY2xhc3MgTm9kZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcihkb20pIHtcclxuICAgICAgICBpZiAoZG9tID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5kb20gPSB0aGlzLmNyZWF0ZURvbSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCEodGhpcy5kb20gaW5zdGFuY2VvZiBqUXVlcnkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2QgY3JlYXRlRG9tKCkgbXVzdCByZXR1cm4gaW5zdGFuY2Ugb2YgYW4galF1ZXJ5IG9iamVjdFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChkb20gaW5zdGFuY2VvZiBqUXVlcnkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZG9tID0gZG9tO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm9uLWpxdWVyeSBvYmplY3QgY2Fubm90IGJlIHBhc3NlZCBpbnRvIE5vZGUuY29uc3RydWN0KClcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZG9tLmRhdGEoJy0td3JhcHBlcicsIHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpZCgpIHsgcmV0dXJuIHRoaXMuZG9tLmF0dHIoJ2lkJykgfVxyXG4gICAgc2V0IGlkKHZhbHVlKSB7IHRoaXMuZG9tLmF0dHIoJ2lkJywgdmFsdWUpIH1cclxuXHJcbiAgICBnZXQgdmlzaWJsZSgpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZG9tLmlzKCc6dmlzaWJsZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCB2aXNpYmxlKHZhbHVlKSB7XHJcbiAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuZG9tLnNob3coKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmRvbS5oaWRlKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgZW5hYmxlZCgpIHtcclxuICAgICAgcmV0dXJuICF0aGlzLmRvbS5wcm9wKFwiZGlzYWJsZWRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGVuYWJsZWQodmFsdWUpIHtcclxuICAgICAgdGhpcy5kb20ucHJvcCgnZGlzYWJsZWQnLCAhdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBmb2N1c2VkKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5kb20uaXMoJzpmb2N1cycpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBzdHlsZSgpIHsgcmV0dXJuIHRoaXMuZG9tLmF0dHIoJ3N0eWxlJykgfVxyXG4gICAgc2V0IHN0eWxlKHZhbHVlKSB7IHRoaXMuZG9tLmF0dHIoJ3N0eWxlJywgdmFsdWUpIH1cclxuXHJcbiAgICBnZXQgeCgpIHsgcmV0dXJuIHRoaXMuZG9tLnBvc2l0aW9uKCkubGVmdDsgfVxyXG4gICAgc2V0IHgodmFsdWUpIHsgdGhpcy5kb20uY3NzKHtsZWZ0OiB2YWx1ZX0pOyB9XHJcblxyXG4gICAgZ2V0IHkoKSB7IHJldHVybiB0aGlzLmRvbS5wb3NpdGlvbigpLnRvcDsgfVxyXG4gICAgc2V0IHkodmFsdWUpIHtcclxuICAgICAgICB0aGlzLmRvbS5jc3Moe3RvcDogdmFsdWV9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcG9zaXRpb24oKSB7IHJldHVybiBbdGhpcy54LCB0aGlzLnldOyB9XHJcbiAgICBzZXQgcG9zaXRpb24odmFsdWUpIHtcclxuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheSAmJiB2YWx1ZS5sZW5ndGggPj0gMikge1xyXG4gICAgICAgICAgICB0aGlzLnggPSB2YWx1ZVswXTtcclxuICAgICAgICAgICAgdGhpcy55ID0gdmFsdWVbMV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCB3aWR0aCgpIHsgcmV0dXJuIHRoaXMuZG9tLndpZHRoKCkgfVxyXG4gICAgc2V0IHdpZHRoKHZhbHVlKSB7IHRoaXMuZG9tLndpZHRoKHZhbHVlKSB9XHJcblxyXG4gICAgZ2V0IGhlaWdodCgpIHsgcmV0dXJuIHRoaXMuZG9tLmhlaWdodCgpIH1cclxuICAgIHNldCBoZWlnaHQodmFsdWUpIHsgdGhpcy5kb20uaGVpZ2h0KHZhbHVlKSB9XHJcblxyXG4gICAgZ2V0IHNpemUoKSB7IHJldHVybiBbdGhpcy53aWR0aCwgdGhpcy5oZWlnaHRdIH1cclxuICAgIHNldCBzaXplKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQXJyYXkgJiYgdmFsdWUubGVuZ3RoID49IDIpIHtcclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHZhbHVlWzBdO1xyXG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHZhbHVlWzFdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgcGFkZGluZygpIHtcclxuICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgIFV0aWxzLnRvUHQodGhpcy5kb20uY3NzKCdwYWRkaW5nLXRvcCcpKSxcclxuICAgICAgICAgIFV0aWxzLnRvUHQodGhpcy5kb20uY3NzKCdwYWRkaW5nLXJpZ2h0JykpLFxyXG4gICAgICAgICAgVXRpbHMudG9QdCh0aGlzLmRvbS5jc3MoJ3BhZGRpbmctYm90dG9tJykpLFxyXG4gICAgICAgICAgVXRpbHMudG9QdCh0aGlzLmRvbS5jc3MoJ3BhZGRpbmctbGVmdCcpKVxyXG4gICAgICBdO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBwYWRkaW5nKHZhbHVlKSB7XHJcbiAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID49IDQpIHtcclxuICAgICAgICAgICAgdGhpcy5kb20uY3NzKHtcclxuICAgICAgICAgICAgICAncGFkZGluZy10b3AnOiB2YWx1ZVswXSwgJ3BhZGRpbmctcmlnaHQnOiB2YWx1ZVsxXSxcclxuICAgICAgICAgICAgICAncGFkZGluZy1ib3R0b20nOiB2YWx1ZVsyXSwgJ3BhZGRpbmctbGVmdCc6IHZhbHVlWzNdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZS5sZW5ndGggPj0gMikge1xyXG4gICAgICAgICAgICB0aGlzLmRvbS5jc3Moe1xyXG4gICAgICAgICAgICAgICdwYWRkaW5nLXRvcCc6IHZhbHVlWzBdLCAncGFkZGluZy1yaWdodCc6IHZhbHVlWzFdLFxyXG4gICAgICAgICAgICAgICdwYWRkaW5nLWJvdHRvbSc6IHZhbHVlWzBdLCAncGFkZGluZy1sZWZ0JzogdmFsdWVbMV1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlLmxlbmd0aCA+PSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZG9tLmNzcygncGFkZGluZycsIHZhbHVlWzBdKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZG9tLmNzcygncGFkZGluZycsIDApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5kb20uY3NzKCdwYWRkaW5nJywgdmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBhcmVudCgpIHtcclxuICAgICAgdmFyIHBhcmVudCA9IG51bGw7XHJcblxyXG4gICAgICBpZiAodGhpcy5kb20uZGF0YSgnLS13cmFwcGVyLWRvbScpKSB7XHJcbiAgICAgICAgcGFyZW50ID0gdGhpcy5kb20uZGF0YSgnLS13cmFwcGVyLWRvbScpLnBhcmVudCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBhcmVudCA9IHRoaXMuZG9tLnBhcmVudCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXBhcmVudCkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gTm9kZS5nZXRGcm9tRG9tKHBhcmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHVzZXJEYXRhKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5kb20uZGF0YSgnLS11c2VyLWRhdGEnKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgdXNlckRhdGEodmFsdWUpIHtcclxuICAgICAgdGhpcy5kb20uZGF0YSgnLS11c2VyLWRhdGEnLCB2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNvbnRyb2xsZXIoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9jb250cm9sbGVyO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBjb250cm9sbGVyKG9iamVjdCkge1xyXG4gICAgICB0aGlzLl9jb250cm9sbGVyID0gb2JqZWN0O1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZURvbSgpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBhYnN0cmFjdCBtZXRob2QgY3JlYXRlRG9tKClcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcmVxdWVzdEZvY3VzKCkge1xyXG4gICAgICB0aGlzLmZvY3VzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVsb2NhdGUoeCwgeSkge1xyXG4gICAgICB0aGlzLnBvc2l0aW9uID0gW3gsIHldO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgIHRoaXMuc2l6ZSA9IFt3aWR0aCwgaGVpZ2h0XTtcclxuICAgIH1cclxuXHJcbiAgICBmb2N1cygpIHtcclxuICAgICAgdGhpcy5kb20uZm9jdXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBjc3ModmFsdWUpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZG9tLmNzcyguLi5hcmd1bWVudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGRhdGEocGFyYW1zKSB7XHJcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9tLmRhdGEoLi4uYXJndW1lbnRzKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmRvbS5kYXRhKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBsb29rdXAoc2VsZWN0b3IpIHtcclxuICAgICAgdmFyIGRvbSA9IHRoaXMuZG9tLmZpbmQoc2VsZWN0b3IpLmZpcnN0KCk7XHJcblxyXG4gICAgICBpZiAoZG9tKSB7XHJcbiAgICAgICAgcmV0dXJuIE5vZGUuZ2V0RnJvbURvbShkb20pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBsb29rdXBBbGwoc2VsZWN0b3IpIHtcclxuICAgICAgdmFyIG5vZGVzID0gW107XHJcblxyXG4gICAgICB0aGlzLmRvbS5maW5kKHNlbGVjdG9yKS5lYWNoKCgpID0+IHtcclxuICAgICAgICBub2Rlcy5wdXNoKE5vZGUuZ2V0RnJvbURvbSh0aGlzKSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIG5vZGVzO1xyXG4gICAgfVxyXG5cclxuICAgIHRvRnJvbnQoKSB7XHJcbiAgICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudDtcclxuXHJcbiAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICBpZiAocGFyZW50WydjaGlsZFRvRnJvbnQnXSkge1xyXG4gICAgICAgICAgcGFyZW50LmNoaWxkVG9Gcm9udCh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0b0JhY2soKSB7XHJcbiAgICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudDtcclxuXHJcbiAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICBpZiAocGFyZW50WydjaGlsZFRvQmFjayddKSB7XHJcbiAgICAgICAgICBwYXJlbnQuY2hpbGRUb0JhY2sodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnJlZSgpIHtcclxuICAgICAgdmFyIHdyYXBwZXJEb20gPSB0aGlzLmRvbS5kYXRhKCctLXdyYXBwZXItZG9tJyk7XHJcblxyXG4gICAgICBpZiAod3JhcHBlckRvbSkge1xyXG4gICAgICAgIHdyYXBwZXJEb20uZG9tLnJlbW92ZSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuZG9tLmRldGFjaCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBzaG93KCkge1xyXG4gICAgICB0aGlzLmRvbS5zaG93KCk7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGhpZGUoKSB7XHJcbiAgICAgIHRoaXMuZG9tLmhpZGUoKTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlKCkge1xyXG4gICAgICB0aGlzLmRvbS50b2dnbGUoKTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgb24oZXZlbnQsIGNhbGxiYWNrKSB7XHJcbiAgICAgIHRoaXMuZG9tLm9uKGV2ZW50LCAoZXZlbnQpID0+IHtcclxuICAgICAgICBldmVudC5zZW5kZXIgPSB0aGlzO1xyXG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgZXZlbnQpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGJpbmQoaGFuZGxlcnMpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgb2ZmKGV2ZW50KSB7XHJcbiAgICAgIHRoaXMuZG9tLm9mZihldmVudCk7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHRyaWdnZXIoZXZlbnQsIHBhcmFtcykge1xyXG4gICAgICByZXR1cm4gdGhpcy5kb20udHJpZ2dlcihldmVudCwgcGFyYW1zKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGlsZChpZCkge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBsb2FkKG9iamVjdCwgY29udHJvbGxlcikge1xyXG4gICAgICBmb3IgKHZhciBwcm9wIGluIG9iamVjdCkge1xyXG4gICAgICAgIGlmIChvYmplY3QuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgIGlmIChwcm9wWzBdID09ICdfJykge1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IG9iamVjdFtwcm9wXTtcclxuXHJcbiAgICAgICAgICBzd2l0Y2ggKHByb3ApIHtcclxuICAgICAgICAgICAgY2FzZSAnb24nOlxyXG4gICAgICAgICAgICAgIGlmIChjb250cm9sbGVyKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBldmVudCBpbiB2YWx1ZSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KGV2ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSB2YWx1ZVtldmVudF07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250cm9sbGVyW2hhbmRsZXJdID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uKGV2ZW50LCBjb250cm9sbGVyW2hhbmRsZXJdLmJpbmQoY29udHJvbGxlcikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgdGhpc1twcm9wXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRGcm9tRG9tKGpxdWVyeU9iamVjdCkge1xyXG4gICAgICAgIGlmIChqcXVlcnlPYmplY3QgPT09IG51bGwgfHwganF1ZXJ5T2JqZWN0Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChqcXVlcnlPYmplY3QgaW5zdGFuY2VvZiBqUXVlcnkpIHtcclxuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSAganF1ZXJ5T2JqZWN0LmRhdGEoJy0td3JhcHBlcicpO1xyXG4gICAgICAgICAgICByZXR1cm4gd3JhcHBlciA/IHdyYXBwZXIgOiBuZXcgTm9kZShqcXVlcnlPYmplY3QpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm9kZS5nZXRGcm9tRG9tKCk6IDEgYXJndW1lbnQgbXVzdCBiZSBhbiBqUXVlcnkgb2JqZWN0XCIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBOb2RlO1xyXG4iLCJpbXBvcnQgVUlMb2FkZXIgZnJvbSAnLi8uLi9OWC9VSUxvYWRlcic7XHJcbmltcG9ydCBDb250YWluZXIgZnJvbSAnLi9Db250YWluZXInO1xyXG5cclxuY2xhc3MgUGFnZSB7XHJcbiAgY29uc3RydWN0b3IodWlSZXNvdXJjZSkge1xyXG4gICAgdGhpcy51aUxvYWRlciA9IG5ldyBVSUxvYWRlcigpO1xyXG4gICAgdGhpcy51aSA9IHt9O1xyXG4gICAgdGhpcy5fY29udGVudCA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5sb2FkKHVpUmVzb3VyY2UpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGNvbnRlbnQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY29udGVudDtcclxuICB9XHJcblxyXG4gIGJpbmRPbmUoaWQsIGhhbmRsZXIpIHtcclxuICAgIGlmICh0aGlzLl9iaW5kcykge1xyXG4gICAgICB0aGlzLl9iaW5kc1tpZF0gPSBoYW5kbGVyO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYmluZHMgPSB7fVxyXG4gICAgICB0aGlzLl9iaW5kc1tpZF0gPSBoYW5kbGVyO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLl9jb250ZW50KSB7XHJcbiAgICAgIHZhciBzdWIgPSB0aGlzLl9jb250ZW50LmNoaWxkKGlkKTtcclxuXHJcbiAgICAgIGlmIChzdWIpIHtcclxuICAgICAgICBmb3IgKHZhciBldmVudCBpbiBoYW5kbGVyKSB7XHJcbiAgICAgICAgICBpZiAoaGFuZGxlci5oYXNPd25Qcm9wZXJ0eShldmVudCkpIHtcclxuICAgICAgICAgICAgc3ViLm9uKGV2ZW50LCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgIGhhbmRsZXJbZXZlbnRdLmNhbGwodGhpcywgZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oYENoaWxkICcke2lkfScgaXMgbm90IGRlZmluZWRgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYmluZChoYW5kbGVycykge1xyXG4gICAgdGhpcy5fYmluZHMgPSBoYW5kbGVycztcclxuXHJcbiAgICBpZiAodGhpcy5fY29udGVudCkge1xyXG4gICAgICBmb3IgKHZhciBpZCBpbiBoYW5kbGVycykge1xyXG4gICAgICAgIGlmIChoYW5kbGVycy5oYXNPd25Qcm9wZXJ0eShpZCkpIHtcclxuICAgICAgICAgIHRoaXMuYmluZE9uZShpZCwgaGFuZGxlcnNbaWRdKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGxvYWQodWlSZXNvdXJjZSkge1xyXG4gICAgaWYgKHVpUmVzb3VyY2UgaW5zdGFuY2VvZiBTdHJpbmcgfHwgdHlwZW9mIHVpUmVzb3VyY2UgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHRoaXMudWlMb2FkZXIubG9hZEZyb21VcmwodWlSZXNvdXJjZSwgKG5vZGUpID0+IHtcclxuICAgICAgICAgIHRoaXMuX2NvbnRlbnQgPSBub2RlO1xyXG4gICAgICAgICAgdGhpcy5hZnRlckxvYWQoKTtcclxuICAgICAgfSwgdGhpcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9jb250ZW50ID0gdGhpcy51aUxvYWRlci5sb2FkKHVpUmVzb3VyY2UsIHRoaXMpO1xyXG4gICAgICB0aGlzLmFmdGVyTG9hZCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYWZ0ZXJMb2FkKCkge1xyXG4gICAgaWYgKHRoaXMuX2JpbmRzKSB7XHJcbiAgICAgIHRoaXMuYmluZCh0aGlzLl9iaW5kcyk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fcmVmcmVzaFVpKCk7XHJcblxyXG4gICAgaWYgKHRoaXMuX2FwcCkge1xyXG4gICAgICB0aGlzLl9hcHAuY29udGVudCA9IHRoaXMuX2NvbnRlbnQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfcmVmcmVzaFVpKCkge1xyXG4gICAgdGhpcy51aSA9IHt9O1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICBjb25zdCByZWZyZXNoID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBDb250YWluZXIpIHtcclxuICAgICAgICB2YXIgY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuKCk7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG5cclxuICAgICAgICAgIGlmIChjaGlsZCkge1xyXG4gICAgICAgICAgICB2YXIgaWQgPSBjaGlsZC5pZDtcclxuXHJcbiAgICAgICAgICAgIGlmIChpZCAmJiAhc2VsZi51aVtpZF0pIHtcclxuICAgICAgICAgICAgICBzZWxmLnVpW2lkXSA9IGNoaWxkO1xyXG4gICAgICAgICAgICAgIHJlZnJlc2goY2hpbGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVmcmVzaCh0aGlzLl9jb250ZW50KTtcclxuXHJcbiAgICBpZiAodGhpcy5fYXBwKSB7XHJcbiAgICAgIHdpbmRvdy51aSA9IHRoaXMudWk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzaG93SW5BcHAoYXBwKSB7XHJcbiAgICB0aGlzLl9hcHAgPSBhcHA7XHJcblxyXG4gICAgaWYgKHRoaXMuX2NvbnRlbnQpIHtcclxuICAgICAgYXBwLmNvbnRlbnQgPSB0aGlzLl9jb250ZW50O1xyXG4gICAgICB3aW5kb3cudWkgPSB0aGlzLnVpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUGFnZTtcclxuIiwiaW1wb3J0IFRleHRJbnB1dENvbnRyb2wgZnJvbSAnLi9UZXh0SW5wdXRDb250cm9sJztcclxuXHJcbmNsYXNzIFRleHRBcmVhIGV4dGVuZHMgVGV4dElucHV0Q29udHJvbCB7XHJcbiAgY3JlYXRlRG9tKCkge1xyXG4gICAgdmFyIGRvbSA9IGpRdWVyeSgnPHRleHRhcmVhIGNsYXNzPVwiZm9ybS1jb250cm9sIHV4LXRleHQtaW5wdXQtY29udHJvbCB1eC10ZXh0LWFyZWFcIiAvPicpO1xyXG4gICAgcmV0dXJuIGRvbTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRleHRBcmVhO1xyXG4iLCJpbXBvcnQgVGV4dElucHV0Q29udHJvbCBmcm9tICcuL1RleHRJbnB1dENvbnRyb2wnO1xyXG5cclxuY2xhc3MgVGV4dEZpZWxkIGV4dGVuZHMgVGV4dElucHV0Q29udHJvbCB7XHJcbiAgY3JlYXRlRG9tKCkge1xyXG4gICAgdmFyIGRvbSA9IGpRdWVyeSgnPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgdXgtdGV4dC1pbnB1dC1jb250cm9sIHV4LXRleHQtZmllbGRcIiAvPicpO1xyXG4gICAgcmV0dXJuIGRvbTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRleHRGaWVsZDtcclxuIiwiaW1wb3J0IE5vZGUgZnJvbSAnLi9Ob2RlJztcclxuXHJcbmNsYXNzIFRleHRJbnB1dENvbnRyb2wgZXh0ZW5kcyBOb2RlIHtcclxuICBcclxuICBnZXQgZWRpdGFibGUoKSB7XHJcbiAgICByZXR1cm4gIXRoaXMuZG9tLnByb3AoJ3JlYWRvbmx5Jyk7XHJcbiAgfVxyXG5cclxuICBzZXQgZWRpdGFibGUodmFsdWUpIHtcclxuICAgIHRoaXMuZG9tLnByb3AoJ3JlYWRvbmx5JywgIXZhbHVlKTtcclxuICB9XHJcblxyXG4gIGdldCB0ZXh0QWxpZ24oKSB7XHJcbiAgICByZXR1cm4gdGhpZC5kb20uY3NzKCd0ZXh0LWFsZ2luJyk7XHJcbiAgfVxyXG5cclxuICBzZXQgdGV4dEFsaWduKHZhbHVlKSB7XHJcbiAgICB0aGlzLmRvbS5jc3MoJ3RleHQtYWxnaW4nLCB2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBnZXQgZm9udCgpIHtcclxuICAgIHJldHVybiBGb250LmdldEZyb21Eb20odGhpcy5kb20pO1xyXG4gIH1cclxuXHJcbiAgc2V0IGZvbnQodmFsdWUpIHtcclxuICAgIEZvbnQuYXBwbHlUb0RvbSh2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBnZXQgdGV4dCgpIHtcclxuICAgIHJldHVybiB0aGlzLmRvbS52YWwoKTtcclxuICB9XHJcblxyXG4gIHNldCB0ZXh0KHZhbHVlKSB7XHJcbiAgICB0aGlzLmRvbS52YWwodmFsdWUpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVGV4dElucHV0Q29udHJvbDtcclxuIiwiaW1wb3J0IEJ1dHRvbiBmcm9tICcuL0J1dHRvbic7XHJcblxyXG5jbGFzcyBUb2dnbGVCdXR0b24gZXh0ZW5kcyBCdXR0b24ge1xyXG4gIGNyZWF0ZURvbSgpIHtcclxuICAgIHZhciBkb20gPSBzdXBlci5jcmVhdGVEb20oKTtcclxuICAgIGRvbS5hZGRDbGFzcygndXgtdG9nZ2xlLWJ1dHRvbicpO1xyXG4gICAgZG9tLmF0dHIoJ2RhdGEtdG9nZ2xlJywgJ2J1dHRvbicpO1xyXG4gICAgcmV0dXJuIGRvbTtcclxuICB9XHJcblxyXG4gIGdldCBzZWxlY3RlZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmRvbS5oYXNDbGFzcygnYWN0aXZlJyk7XHJcbiAgfVxyXG5cclxuICBzZXQgc2VsZWN0ZWQodmFsdWUpIHtcclxuICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICB0aGlzLmRvbS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgIHRoaXMuZG9tLmF0dHIoJ2FyaWEtcHJlc3NlZCcsIHRydWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5kb20ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICB0aGlzLmRvbS5hdHRyKCdhcmlhLXByZXNzZWQnLCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfX2JpbmRFdmVudHMoZG9tKSB7XHJcbiAgICBkb20ub24oJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLnNlbGVjdGVkID0gIXRoaXMuc2VsZWN0ZWQ7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRvZ2dsZUJ1dHRvbjtcclxuIiwiaW1wb3J0IFBhZ2UgZnJvbSAnLi9QYWdlJztcclxuaW1wb3J0IE5vZGUgZnJvbSAnLi9Ob2RlJztcclxuaW1wb3J0IEJ1dHRvbiBmcm9tICcuL0J1dHRvbic7XHJcbmltcG9ydCBUb2dnbGVCdXR0b24gZnJvbSAnLi9Ub2dnbGVCdXR0b24nO1xyXG5pbXBvcnQgTGFiZWxlZCBmcm9tICcuL0xhYmVsZWQnO1xyXG5pbXBvcnQgTGFiZWwgZnJvbSAnLi9MYWJlbCc7XHJcbmltcG9ydCBDaGVja2JveCBmcm9tICcuL0NoZWNrYm94JztcclxuaW1wb3J0IENvbnRhaW5lciBmcm9tICcuL0NvbnRhaW5lcic7XHJcbmltcG9ydCBIQm94IGZyb20gJy4vSEJveCc7XHJcbmltcG9ydCBWQm94IGZyb20gJy4vVkJveCc7XHJcbmltcG9ydCBBbmNob3JQYW5lIGZyb20gJy4vQW5jaG9yUGFuZSc7XHJcbmltcG9ydCBJbWFnZVZpZXcgZnJvbSAnLi9JbWFnZVZpZXcnO1xyXG5pbXBvcnQgVGV4dElucHV0Q29udHJvbCBmcm9tICcuL1RleHRJbnB1dENvbnRyb2wnO1xyXG5pbXBvcnQgVGV4dEZpZWxkIGZyb20gJy4vVGV4dEZpZWxkJztcclxuaW1wb3J0IFRleHRBcmVhIGZyb20gJy4vVGV4dEFyZWEnO1xyXG5cclxuXHJcbmltcG9ydCBGb250IGZyb20gJy4vcGFpbnQvRm9udCc7XHJcbmltcG9ydCBVdGlscyBmcm9tICcuL3V0aWwvVXRpbHMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIFBhZ2UsXHJcbiAgTm9kZSxcclxuICBJbWFnZVZpZXcsXHJcbiAgQnV0dG9uLCBUb2dnbGVCdXR0b24sXHJcbiAgTGFiZWxlZCxcclxuICBMYWJlbCwgQ2hlY2tib3gsXHJcbiAgVGV4dElucHV0Q29udHJvbCwgVGV4dEZpZWxkLCBUZXh0QXJlYSxcclxuICBDb250YWluZXIsIEhCb3gsIFZCb3gsIEFuY2hvclBhbmUsXHJcblxyXG4gIEZvbnRcclxufVxyXG4iLCJpbXBvcnQgQ29udGFpbmVyIGZyb20gJy4vQ29udGFpbmVyJztcclxuXHJcbmNsYXNzIFZCb3ggZXh0ZW5kcyBDb250YWluZXIge1xyXG5cclxuICBjb25zdHJ1Y3Rvcihub2Rlcykge1xyXG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuXHJcbiAgICB0aGlzLnNwYWNpbmcgPSAwO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHNwYWNpbmcoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fc3BhY2luZztcclxuICB9XHJcblxyXG4gIHNldCBzcGFjaW5nKHZhbHVlKSB7XHJcbiAgICB0aGlzLl9zcGFjaW5nID0gdmFsdWU7XHJcbiAgICB2YXIgc2xvdHMgPSB0aGlzLmRvbS5maW5kKCc+IGRpdicpO1xyXG5cclxuICAgIHNsb3RzLmNzcygnbWFyZ2luLWJvdHRvbScsIHZhbHVlICsgJ3B4Jyk7XHJcbiAgICBzbG90cy5sYXN0KCkuY3NzKCdtYXJnaW4tYm90dG9tJywgMCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgICBnZXQgaG9yQWxpZ24oKSB7XHJcbiAgICAgIHZhciBhbGlnbiA9IHRoaXMuZG9tLmNzcygnYWxpZ24taXRlbXMnKTtcclxuXHJcbiAgICAgIHN3aXRjaCAoYWxpZ24pIHtcclxuICAgICAgICBjYXNlICdmbGV4LXN0YXJ0JzogcmV0dXJuICdsZWZ0JztcclxuICAgICAgICBjYXNlICdmbGV4LWVuZCc6IHJldHVybiAncmlnaHQnO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gYWxpZ247XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGhvckFsaWduKHZhbHVlKSB7XHJcbiAgICAgIHN3aXRjaCAodmFsdWUpIHtcclxuICAgICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgICAgIHZhbHVlID0gJ2ZsZXgtc3RhcnQnOyBicmVhaztcclxuICAgICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgICB2YWx1ZSA9ICdmbGV4LWVuZCc7IGJyZWFrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLmRvbS5jc3MoJ2FsaWduLWl0ZW1zJywgdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB2ZXJBbGlnbigpIHtcclxuICAgICAgdmFyIGFsaWduID0gdGhpcy5kb20uY3NzKCdqdXN0aWZ5LWNvbnRlbnQnKTtcclxuXHJcbiAgICAgIHN3aXRjaCAoYWxpZ24pIHtcclxuICAgICAgICBjYXNlICdmbGV4LXN0YXJ0JzogcmV0dXJuICd0b3AnO1xyXG4gICAgICAgIGNhc2UgJ2ZsZXgtZW5kJzogcmV0dXJuICdib3R0b20nO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gYWxpZ24gPyBhbGlnbiA6ICd0b3AnO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCB2ZXJBbGlnbih2YWx1ZSkge1xyXG4gICAgICBzd2l0Y2ggKHZhbHVlKSB7XHJcbiAgICAgICAgY2FzZSAndG9wJzpcclxuICAgICAgICAgIHZhbHVlID0gJ2ZsZXgtc3RhcnQnOyBicmVhaztcclxuICAgICAgICBjYXNlICdib3R0b20nOlxyXG4gICAgICAgICAgdmFsdWUgPSAnZmxleC1lbmQnOyBicmVhaztcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5kb20uY3NzKCdqdXN0aWZ5LWNvbnRlbnQnLCB2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gIGNyZWF0ZURvbSgpIHtcclxuICAgIHZhciBkb20gPSBzdXBlci5jcmVhdGVEb20oKTtcclxuICAgIGRvbS5hZGRDbGFzcygndXgtdi1ib3gnKTtcclxuXHJcbiAgICByZXR1cm4gZG9tO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlU2xvdERvbShvYmplY3QpIHtcclxuICAgIHZhciBkb20gPSBzdXBlci5jcmVhdGVTbG90RG9tKG9iamVjdCk7XHJcbiAgICByZXR1cm4gZG9tO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVkJveDtcclxuIiwiaW1wb3J0IFV0aWxzIGZyb20gJy4vLi4vdXRpbC9VdGlscyc7XHJcblxyXG5jbGFzcyBGb250IHtcclxuICBjb25zdHJ1Y3RvcihuYW1lLCBzaXplKSB7XHJcbiAgICB0aGlzLl9kb20gPSBudWxsO1xyXG4gICAgdGhpcy5uYW1lID0gbmFtZSB8fCAnc2VyaWYnO1xyXG4gICAgdGhpcy5zaXplID0gc2l6ZSB8fCAxMjtcclxuICB9XHJcblxyXG4gIGdldCBuYW1lKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX25hbWU7XHJcbiAgfVxyXG5cclxuICBzZXQgbmFtZSh2YWx1ZSkge1xyXG4gICAgdGhpcy5fbmFtZSA9IHZhbHVlO1xyXG5cclxuICAgIGlmICh0aGlzLl9kb20pIHtcclxuICAgICAgdGhpcy5fZG9tLmNzcygnZm9udC1mYW1pbHknLCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXQgc2l6ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLl9zaXplO1xyXG4gIH1cclxuXHJcbiAgc2V0IHNpemUodmFsdWUpIHtcclxuICAgIHRoaXMuX3NpemUgPSB2YWx1ZSB8IDA7XHJcblxyXG4gICAgaWYgKHRoaXMuX2RvbSkge1xyXG4gICAgICB0aGlzLl9kb20uY3NzKCdmb250LXNpemUnLCB2YWx1ZSArICdweCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0IGJvbGQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fYm9sZCB8IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgc2V0IGJvbGQodmFsdWUpIHtcclxuICAgIHRoaXMuX2JvbGQgPSB2YWx1ZSB8IGZhbHNlO1xyXG5cclxuICAgIGlmICh0aGlzLl9kb20pIHtcclxuICAgICAgdGhpcy5fZG9tLmNzcygnZm9udC13ZWlnaHQnLCB0aGlzLl9ib2xkID8gJ2JvbGQnIDogJ25vcm1hbCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0IGl0YWxpYygpIHtcclxuICAgIHJldHVybiB0aGlzLl9pdGFsaWMgfCBmYWxzZTtcclxuICB9XHJcblxyXG4gIHNldCBpdGFsaWModmFsdWUpIHtcclxuICAgIHRoaXMuX2l0YWxpYyA9IHZhbHVlIHwgZmFsc2U7XHJcblxyXG4gICAgaWYgKHRoaXMuX2RvbSkge1xyXG4gICAgICB0aGlzLl9kb20uY3NzKCdmb250LXN0eWxlJywgdGhpcy5faXRhbGljID8gJ2l0YWxpYycgOiAnbm9ybWFsJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXQgdW5kZXJsaW5lKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3VuZGVybGluZSB8IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgc2V0IHVuZGVybGluZSh2YWx1ZSkge1xyXG4gICAgdGhpcy5fdW5kZXJsaW5lID0gdmFsdWUgfCBmYWxzZTtcclxuXHJcbiAgICBpZiAodGhpcy5fZG9tKSB7XHJcbiAgICAgIHRoaXMuX2RvbS5jc3MoJ3RleHQtZGVjb3JhdGlvbicsIHRoaXMuX3VuZGVybGluZSA/ICd1bmRlcmxpbmUnIDogJ25vbmUnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBhcHBseVRvRG9tKGRvbSwgZm9udCkge1xyXG4gICAgaWYgKGZvbnQgaW5zdGFuY2VvZiBGb250KSB7XHJcbiAgICAgIGRvbS5jc3MoJ2ZvbnQtZmFtaWx5JywgZm9udC5uYW1lKTtcclxuICAgICAgZG9tLmNzcygnZm9udC1zaXplJywgZm9udC5zaXplKTtcclxuXHJcbiAgICAgIGlmIChmb250LmJvbGQpIHtcclxuICAgICAgICBkb20uY3NzKCdmb250LXdlaWdodCcsICdib2xkJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChmb250Lml0YWxpYykge1xyXG4gICAgICAgIGRvbS5jc3MoJ2ZvbnQtc3R5bGUnLCAnaXRhbGljJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChmb250LnVuZGVybGluZSkge1xyXG4gICAgICAgIGRvbS5jc3MoJ3RleHQtZGVjb3JhdGlvbicsICd1bmRlcmxpbmUnKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldEZyb21Eb20oZG9tKSB7XHJcbiAgICBpZiAoZG9tIGluc3RhbmNlb2YgalF1ZXJ5KSB7XHJcbiAgICAgIHZhciBmYW1pbHkgPSBkb20uY3NzKCdmb250LWZhbWlseScpO1xyXG4gICAgICB2YXIgc2l6ZSA9IFV0aWxzLnRvUHQoZG9tLmNzcygnZm9udC1zaXplJykpO1xyXG5cclxuICAgICAgdmFyIGJvbGQgPSBkb20uY3NzKCdmb250LXdlaWdodCcpID09PSAnYm9sZCc7XHJcbiAgICAgIHZhciBpdGFsaWMgPSBkb20uY3NzKCdmb250LXN0eWxlJykgPT09ICdpdGFsaWMnO1xyXG5cclxuICAgICAgdmFyIGZvbnQgPSBuZXcgRm9udChmYW1pbHksIHNpemUpO1xyXG5cclxuICAgICAgaWYgKGJvbGQpIGZvbnQuYm9sZCA9IHRydWU7XHJcbiAgICAgIGlmIChpdGFsaWMpIGZvbnQuaXRhbGljID0gdHJ1ZTtcclxuXHJcbiAgICAgIGZvbnQuX2RvbSA9IGRvbTtcclxuICAgICAgcmV0dXJuIGZvbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZ2V0RnJvbURvbSgpOiAxIGFyZ3VtZW50IG11c3QgYmUganF1ZXJ5IG9iamVjdCcpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRm9udDtcclxuIiwiXHJcblxyXG5jbGFzcyBVdGlsc1xyXG57XHJcbiAgc3RhdGljIGlzRWxlbWVudChvYmopIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vVXNpbmcgVzMgRE9NMiAod29ya3MgZm9yIEZGLCBPcGVyYSBhbmQgQ2hyb20pXHJcbiAgICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcclxuICAgIH0gY2F0Y2goZSl7XHJcbiAgICAgIC8vQnJvd3NlcnMgbm90IHN1cHBvcnRpbmcgVzMgRE9NMiBkb24ndCBoYXZlIEhUTUxFbGVtZW50IGFuZFxyXG4gICAgICAvL2FuIGV4Y2VwdGlvbiBpcyB0aHJvd24gYW5kIHdlIGVuZCB1cCBoZXJlLiBUZXN0aW5nIHNvbWVcclxuICAgICAgLy9wcm9wZXJ0aWVzIHRoYXQgYWxsIGVsZW1lbnRzIGhhdmUuICh3b3JrcyBvbiBJRTcpXHJcbiAgICAgIHJldHVybiAodHlwZW9mIG9iaj09PVwib2JqZWN0XCIpICYmXHJcbiAgICAgICAgKG9iai5ub2RlVHlwZT09PTEpICYmICh0eXBlb2Ygb2JqLnN0eWxlID09PSBcIm9iamVjdFwiKSAmJlxyXG4gICAgICAgICh0eXBlb2Ygb2JqLm93bmVyRG9jdW1lbnQgPT09XCJvYmplY3RcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgdG9QdChjc3NWYWx1ZSkge1xyXG4gICAgcmV0dXJuIHBhcnNlSW50KGNzc1ZhbHVlKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFV0aWxzO1xyXG4iLCJpbXBvcnQgTlggZnJvbSAnLi9OWC9OWCc7XHJcbmltcG9ydCBVWCBmcm9tICcuL1VYL1VYJztcclxuXHJcbndpbmRvdy5OWCA9IE5YO1xyXG53aW5kb3cuVVggPSBVWDtcclxuIl19"}